//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: src/main/java/com/goodow/realtime/channel/operation/ReceiveOpChannelImpl.java
//
//  Created by retechretech on 13-5-25.
//

@class ComGoodowRealtimeChannelRealtimeChannelDemuxer;
@class ComGoodowRealtimeChannelRpcDeltaService;
@class JavaLangThrowable;
@class JavaUtilLoggingLogger;
@protocol ComGoodowRealtimeChannelOperationGenericOperationChannel_ReceiveOpChannel_Listener;
@protocol ComGoodowRealtimeChannelRpcRpc;
@protocol ComGoodowRealtimeOperationOperation;
@protocol ComGoodowRealtimeOperationTransformer;
@protocol EMJsonObject;
@protocol ElementalUtilMapFromIntTo;

#import "JreEmulation.h"
#import "com/goodow/realtime/channel/operation/GenericOperationChannel.h"
#import "com/goodow/realtime/channel/rpc/DeltaService.h"
#import "java/lang/Runnable.h"

#define ComGoodowRealtimeChannelOperationReceiveOpChannelImpl_CATCHUP_DELAY_MILLIS 3000

@interface ComGoodowRealtimeChannelOperationReceiveOpChannelImpl : NSObject < ComGoodowRealtimeChannelOperationGenericOperationChannel_ReceiveOpChannel > {
 @public
  BOOL isCatchupTaskScheduled_;
  id<JavaLangRunnable> catchupTask_;
  id<ComGoodowRealtimeChannelRpcDeltaService_Callback> callback_;
  ComGoodowRealtimeChannelRealtimeChannelDemuxer *demuxer_;
  id<ElementalUtilMapFromIntTo> pending_;
  NSString *id__;
  ComGoodowRealtimeChannelRpcDeltaService *service_;
  id<ComGoodowRealtimeChannelOperationGenericOperationChannel_ReceiveOpChannel_Listener> listener_;
  int currentRevision_;
  int knownHeadRevision_;
  int catchupRevision_;
  id<ComGoodowRealtimeOperationTransformer> transformer_;
  BOOL corruptedByException_;
  BOOL receiving_;
}

@property (nonatomic, assign) BOOL isCatchupTaskScheduled;
@property (nonatomic, strong) id<JavaLangRunnable> catchupTask;
@property (nonatomic, strong) id<ComGoodowRealtimeChannelRpcDeltaService_Callback> callback;
@property (nonatomic, strong) ComGoodowRealtimeChannelRealtimeChannelDemuxer *demuxer;
@property (nonatomic, strong) id<ElementalUtilMapFromIntTo> pending;
@property (nonatomic, copy) NSString *id_;
@property (nonatomic, strong) ComGoodowRealtimeChannelRpcDeltaService *service;
@property (nonatomic, strong) id<ComGoodowRealtimeChannelOperationGenericOperationChannel_ReceiveOpChannel_Listener> listener;
@property (nonatomic, assign) int currentRevision;
@property (nonatomic, assign) int knownHeadRevision;
@property (nonatomic, assign) int catchupRevision;
@property (nonatomic, strong) id<ComGoodowRealtimeOperationTransformer> transformer;
@property (nonatomic, assign) BOOL corruptedByException;
@property (nonatomic, assign) BOOL receiving;

+ (JavaUtilLoggingLogger *)log;
- (id)initWithNSString:(NSString *)id_
withComGoodowRealtimeChannelRpcRpc:(id<ComGoodowRealtimeChannelRpcRpc>)rpc
withComGoodowRealtimeOperationTransformer:(id<ComGoodowRealtimeOperationTransformer>)transformer;
- (void)connectWithInt:(int)revision
withComGoodowRealtimeChannelOperationGenericOperationChannel_ReceiveOpChannel_Listener:(id<ComGoodowRealtimeChannelOperationGenericOperationChannel_ReceiveOpChannel_Listener>)listener;
- (void)disconnect;
- (void)onKnownHeadRevisionWithInt:(int)headVersion;
- (void)onMessageWithEMJsonObject:(id<EMJsonObject>)msg;
- (int)revision;
- (void)maybeCatchup;
- (void)receiveUnorderedDataWithInt:(int)resultingRevision
                       withNSString:(NSString *)sessionId
                             withId:(id)op;
- (void)scheduleCatchup;
- (void)unguardedReceiveUnorderedDataWithInt:(int)resultingRevision
                                withNSString:(NSString *)sessionId
                                      withId:(id)op;
@end

@interface ComGoodowRealtimeChannelOperationReceiveOpChannelImpl_$1 : NSObject < JavaLangRunnable > {
 @public
  ComGoodowRealtimeChannelOperationReceiveOpChannelImpl *this$0_;
}

@property (nonatomic, strong) ComGoodowRealtimeChannelOperationReceiveOpChannelImpl *this$0;

- (void)run;
- (id)initWithComGoodowRealtimeChannelOperationReceiveOpChannelImpl:(ComGoodowRealtimeChannelOperationReceiveOpChannelImpl *)outer$;
@end

@interface ComGoodowRealtimeChannelOperationReceiveOpChannelImpl_$2 : NSObject < ComGoodowRealtimeChannelRpcDeltaService_Callback > {
 @public
  ComGoodowRealtimeChannelOperationReceiveOpChannelImpl *this$0_;
}

@property (nonatomic, strong) ComGoodowRealtimeChannelOperationReceiveOpChannelImpl *this$0;

- (void)onConnectionErrorWithJavaLangThrowable:(JavaLangThrowable *)e;
- (void)onFatalErrorWithJavaLangThrowable:(JavaLangThrowable *)e;
- (void)onMessageWithEMJsonObject:(id<EMJsonObject>)msg;
- (id)initWithComGoodowRealtimeChannelOperationReceiveOpChannelImpl:(ComGoodowRealtimeChannelOperationReceiveOpChannelImpl *)outer$;
@end
