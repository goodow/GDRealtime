//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//
//  Created by Larry Tin <dev@goodow.com>
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "com/goodow/realtime/channel/ChannelDemuxer.h"
#include "com/goodow/realtime/channel/constant/Constants.h"
#include "com/goodow/realtime/channel/rpc/PresenceService.h"
#include "com/goodow/realtime/channel/rpc/Rpc.h"
#include "elemental/json/Json.h"
#include "elemental/json/JsonArray.h"
#include "elemental/json/JsonObject.h"
#include "elemental/util/Collections.h"
#include "elemental/util/MapFromStringToString.h"
#include "java/lang/Throwable.h"
#include "java/util/logging/Level.h"
#include "java/util/logging/Logger.h"

@implementation ComGoodowRealtimeChannelRpcPresenceService

static JavaUtilLoggingLogger * ComGoodowRealtimeChannelRpcPresenceService_log_;
static ComGoodowRealtimeChannelChannelDemuxer * ComGoodowRealtimeChannelRpcPresenceService_demuxer_;

+ (JavaUtilLoggingLogger *)log {
  return ComGoodowRealtimeChannelRpcPresenceService_log_;
}

+ (ComGoodowRealtimeChannelChannelDemuxer *)demuxer {
  return ComGoodowRealtimeChannelRpcPresenceService_demuxer_;
}

- (void)disconnectWithNSString:(NSString *)sessionId
             withNSStringArray:(IOSObjectArray *)ids {
  id<ElementalUtilMapFromStringToString> params = [ElementalUtilCollections mapFromStringToString];
  [((id<ElementalUtilMapFromStringToString>) nil_chk(params)) putWithNSString:[ComGoodowRealtimeChannelConstantConstants_Params ACCESS_TOKEN] withNSString:[((ComGoodowRealtimeChannelChannelDemuxer *) nil_chk(ComGoodowRealtimeChannelRpcPresenceService_demuxer_)) getAccessToken]];
  [params putWithNSString:[ComGoodowRealtimeChannelConstantConstants_Params SESSION_ID] withNSString:sessionId];
  id<GDRJsonObject> obj = nil;
  if (ids != nil && (int) [ids count] != 0) {
    obj = [GDRJson createObject];
    id<GDRJsonArray> docIds = [GDRJson createArray];
    int i = 0;
    {
      IOSObjectArray *a__ = ids;
      id const *b__ = a__->buffer_;
      id const *e__ = b__ + a__->size_;
      while (b__ < e__) {
        NSString *id_ = (*b__++);
        [((id<GDRJsonArray>) nil_chk(docIds)) setWithInt:i++ withNSString:id_];
      }
    }
    [((id<GDRJsonObject>) nil_chk(obj)) putWithNSString:[ComGoodowRealtimeChannelConstantConstants_Params IDS] withGDRJsonValue:docIds];
  }
  (void) [((id<ComGoodowRealtimeChannelRpcRpc>) nil_chk([ComGoodowRealtimeChannelRpcPresenceService_demuxer_ getRpc])) postWithNSString:[ComGoodowRealtimeChannelConstantConstants_Services PRESENCE_DISCONNECT] withElementalUtilMapFromStringToString:params withNSString:obj == nil ? nil : [obj toJson] withComGoodowRealtimeChannelRpcRpc_RpcCallback:[[ComGoodowRealtimeChannelRpcPresenceService_$1 alloc] init]];
}

- (id)init {
  return [super init];
}

+ (void)initialize {
  if (self == [ComGoodowRealtimeChannelRpcPresenceService class]) {
    ComGoodowRealtimeChannelRpcPresenceService_log_ = [JavaUtilLoggingLogger getLoggerWithNSString:[[IOSClass classWithClass:[ComGoodowRealtimeChannelRpcPresenceService class]] getName]];
    ComGoodowRealtimeChannelRpcPresenceService_demuxer_ = [ComGoodowRealtimeChannelChannelDemuxer get];
  }
}

@end
@implementation ComGoodowRealtimeChannelRpcPresenceService_$1

- (void)onConnectionErrorWithJavaLangThrowable:(JavaLangThrowable *)e {
  [((JavaUtilLoggingLogger *) nil_chk([ComGoodowRealtimeChannelRpcPresenceService log])) logWithJavaUtilLoggingLevel:[JavaUtilLoggingLevel WARNING] withNSString:@"onConnectionError " withJavaLangThrowable:e];
}

- (void)onFatalErrorWithJavaLangThrowable:(JavaLangThrowable *)e {
  [((JavaUtilLoggingLogger *) nil_chk([ComGoodowRealtimeChannelRpcPresenceService log])) logWithJavaUtilLoggingLevel:[JavaUtilLoggingLevel WARNING] withNSString:@"onFatalError " withJavaLangThrowable:e];
}

- (void)onSuccessWithNSString:(NSString *)data {
}

- (id)init {
  return [super init];
}

@end
