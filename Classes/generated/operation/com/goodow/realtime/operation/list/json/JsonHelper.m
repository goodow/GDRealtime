//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//
//  Created by Larry Tin <dev@goodow.com>
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "com/goodow/realtime/operation/list/json/JsonHelper.h"
#include "elemental/json/JsonArray.h"
#include "elemental/json/JsonValue.h"
#include "java/lang/StringBuilder.h"
#include "java/lang/System.h"

@implementation ComGoodowRealtimeOperationListJsonJsonHelper

static ComGoodowRealtimeOperationListJsonJsonHelper * ComGoodowRealtimeOperationListJsonJsonHelper_INSTANCE_;

+ (int)TYPE {
  return ComGoodowRealtimeOperationListJsonJsonHelper_TYPE;
}

+ (ComGoodowRealtimeOperationListJsonJsonHelper *)INSTANCE {
  return ComGoodowRealtimeOperationListJsonJsonHelper_INSTANCE_;
}

- (int)lengthWithId:(IOSObjectArray *)values {
  return (int) [((IOSObjectArray *) nil_chk(values)) count];
}

- (IOSObjectArray *)parseValuesWithGDJsonArray:(id<GDJsonArray>)serialized {
  NSAssert([((id<GDJsonArray>) nil_chk(serialized)) getNumber:0] == ComGoodowRealtimeOperationListJsonJsonHelper_TYPE, @"/Users/retechretech/dev/workspace/realtime/realtime-operation/src/main/java/com/goodow/realtime/operation/list/json/JsonHelper.java:32 condition failed: assert serialized.getNumber(0) == TYPE;");
  int length = [serialized length];
  NSAssert(length >= 2, @"/Users/retechretech/dev/workspace/realtime/realtime-operation/src/main/java/com/goodow/realtime/operation/list/json/JsonHelper.java:34 condition failed: assert length >= 2;");
  IOSObjectArray *values = [self createWithInt:length - 1];
  for (int i = 1; i < length; i++) {
    (void) IOSObjectArray_Set(nil_chk(values), i - 1, [serialized get:i]);
  }
  return values;
}

- (IOSObjectArray *)replaceWithWithId:(IOSObjectArray *)values
                              withInt:(int)startIndex
                              withInt:(int)length
                               withId:(IOSObjectArray *)replacement {
  int len = replacement == nil ? 0 : (int) [replacement count];
  IOSObjectArray *array = [self createWithInt:(int) [((IOSObjectArray *) nil_chk(values)) count] - length + len];
  [JavaLangSystem arraycopyWithId:values withInt:0 withId:array withInt:0 withInt:startIndex];
  if (replacement != nil) {
    [JavaLangSystem arraycopyWithId:replacement withInt:0 withId:array withInt:startIndex withInt:len];
  }
  [JavaLangSystem arraycopyWithId:values withInt:startIndex + length withId:array withInt:startIndex + len withInt:(int) [values count] - startIndex - length];
  return array;
}

- (JavaLangStringBuilder *)serializeWithId:(IOSObjectArray *)values {
  JavaLangStringBuilder *sb = [[JavaLangStringBuilder alloc] init];
  (void) [sb appendWithChar:'['];
  (void) [sb appendWithInt:ComGoodowRealtimeOperationListJsonJsonHelper_TYPE];
  {
    IOSObjectArray *a__ = values;
    id const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    id const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      id<GDJsonValue> value = (*b__++);
      (void) [((JavaLangStringBuilder *) nil_chk([sb appendWithChar:','])) appendWithNSString:value == nil ? (NSString *) check_class_cast(nil, [NSString class]) : [value toJson]];
    }
  }
  (void) [sb appendWithChar:']'];
  return sb;
}

- (IOSObjectArray *)subsetWithId:(IOSObjectArray *)values
                         withInt:(int)startIndex
                         withInt:(int)length {
  IOSObjectArray *array = [self createWithInt:length];
  [JavaLangSystem arraycopyWithId:values withInt:startIndex withId:array withInt:0 withInt:length];
  return array;
}

- (IOSObjectArray *)subsetWithId:(IOSObjectArray *)values
                         withInt:(int)startIndex0
                         withInt:(int)length0
                         withInt:(int)startIndex1
                         withInt:(int)length1 {
  return [self subsetWithId:values withInt:startIndex0 withInt:length0 withId:values withInt:startIndex1 withInt:length1];
}

- (IOSObjectArray *)subsetWithId:(IOSObjectArray *)values0
                         withInt:(int)startIndex0
                         withInt:(int)length0
                          withId:(IOSObjectArray *)values1
                         withInt:(int)startIndex1
                         withInt:(int)length1 {
  IOSObjectArray *array = [self createWithInt:length0 + length1];
  [JavaLangSystem arraycopyWithId:values0 withInt:startIndex0 withId:array withInt:0 withInt:length0];
  [JavaLangSystem arraycopyWithId:values1 withInt:startIndex1 withId:array withInt:length0 withInt:length1];
  return array;
}

- (IOSObjectArray *)createWithInt:(int)length {
  return [IOSObjectArray arrayWithLength:length type:[IOSClass classWithProtocol:@protocol(GDJsonValue)]];
}

- (id)init {
  return [super init];
}

+ (void)initialize {
  if (self == [ComGoodowRealtimeOperationListJsonJsonHelper class]) {
    ComGoodowRealtimeOperationListJsonJsonHelper_INSTANCE_ = [[ComGoodowRealtimeOperationListJsonJsonHelper alloc] init];
  }
}

@end
