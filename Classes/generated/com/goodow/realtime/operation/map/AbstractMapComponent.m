//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/larry/dev/workspace/realtime/realtime-operation/src/main/java/com/goodow/realtime/operation/map/AbstractMapComponent.java
//

#include "J2ObjC_source.h"
#include "com/goodow/realtime/json/JsonArray.h"
#include "com/goodow/realtime/operation/Operation.h"
#include "com/goodow/realtime/operation/impl/AbstractComponent.h"
#include "com/goodow/realtime/operation/map/AbstractMapComponent.h"
#include "com/goodow/realtime/operation/map/MapTarget.h"

@implementation ComGoodowRealtimeOperationMapAbstractMapComponent

- (instancetype)initWithNSString:(NSString *)id_
                    withNSString:(NSString *)key
                          withId:(id)oldValue
                          withId:(id)newValue {
  if (self = [super initWithInt:ComGoodowRealtimeOperationMapAbstractMapComponent_TYPE withNSString:id_]) {
    NSAssert(key != nil, @"Null key");
    NSAssert((oldValue == nil && newValue == nil) || ![self equalsWithId:oldValue withId:newValue], @"com/goodow/realtime/operation/map/AbstractMapComponent.java:30 condition failed: assert (oldValue == null && newValue == null) || !equals(oldValue, newValue);");
    self->key_ = key;
    self->oldValue_ = oldValue;
    self->newValue_ = newValue;
  }
  return self;
}

- (void)applyWithId:(id<ComGoodowRealtimeOperationMapMapTarget>)target {
  [((id<ComGoodowRealtimeOperationMapMapTarget>) nil_chk(target)) setWithNSString:key_ withId:newValue_];
}

- (ComGoodowRealtimeOperationMapAbstractMapComponent *)transformWithComGoodowRealtimeOperationOperation:(id<ComGoodowRealtimeOperationOperation>)other
                                                                                            withBoolean:(jboolean)applied {
  NSAssert([other isKindOfClass:[ComGoodowRealtimeOperationMapAbstractMapComponent class]] && [self isSameIdWithComGoodowRealtimeOperationOperation:other], @"com/goodow/realtime/operation/map/AbstractMapComponent.java:43 condition failed: assert other instanceof AbstractMapComponent && isSameId(other);");
  ComGoodowRealtimeOperationMapAbstractMapComponent *op = (ComGoodowRealtimeOperationMapAbstractMapComponent *) check_class_cast(other, [ComGoodowRealtimeOperationMapAbstractMapComponent class]);
  if (![((NSString *) nil_chk(key_)) isEqual:((ComGoodowRealtimeOperationMapAbstractMapComponent *) nil_chk(op))->key_]) {
    return self;
  }
  if (applied || [self equalsWithId:newValue_ withId:op->newValue_]) {
    return nil;
  }
  return [self createWithNSString:id__ withNSString:key_ withId:op->newValue_ withId:newValue_];
}

- (ComGoodowRealtimeOperationMapAbstractMapComponent *)createWithNSString:(NSString *)id_
                                                             withNSString:(NSString *)key
                                                                   withId:(id)oldValue
                                                                   withId:(id)newValue {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (jboolean)equalsWithId:(id)value0
                  withId:(id)value1 {
  return value0 == nil ? value1 == nil : [value0 isEqual:value1];
}

- (void)toJsonWithComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)json {
  (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(json)) pushWithId:key_];
}

- (void)copyAllFieldsTo:(ComGoodowRealtimeOperationMapAbstractMapComponent *)other {
  [super copyAllFieldsTo:other];
  other->key_ = key_;
  other->oldValue_ = oldValue_;
  other->newValue_ = newValue_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithNSString:withNSString:withId:withId:", "AbstractMapComponent", NULL, 0x4, NULL },
    { "applyWithComGoodowRealtimeOperationMapMapTarget:", "apply", "V", 0x1, NULL },
    { "transformWithComGoodowRealtimeOperationOperation:withBoolean:", "transform", "Lcom.goodow.realtime.operation.map.AbstractMapComponent;", 0x1, NULL },
    { "createWithNSString:withNSString:withId:withId:", "create", "Lcom.goodow.realtime.operation.map.AbstractMapComponent;", 0x404, NULL },
    { "equalsWithId:withId:", "equals", "Z", 0x4, NULL },
    { "toJsonWithComGoodowRealtimeJsonJsonArray:", "toJson", "V", 0x4, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "TYPE_", NULL, 0x19, "I", NULL, .constantValue.asInt = ComGoodowRealtimeOperationMapAbstractMapComponent_TYPE },
    { "key_", NULL, 0x14, "Ljava.lang.String;", NULL,  },
    { "oldValue_", NULL, 0x14, "TT;", NULL,  },
    { "newValue_", NULL, 0x14, "TT;", NULL,  },
  };
  static const char *superclass_type_args[] = {"Lcom.goodow.realtime.operation.map.MapTarget;"};
  static const J2ObjcClassInfo _ComGoodowRealtimeOperationMapAbstractMapComponent = { 1, "AbstractMapComponent", "com.goodow.realtime.operation.map", NULL, 0x401, 6, methods, 4, fields, 1, superclass_type_args};
  return &_ComGoodowRealtimeOperationMapAbstractMapComponent;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoodowRealtimeOperationMapAbstractMapComponent)
