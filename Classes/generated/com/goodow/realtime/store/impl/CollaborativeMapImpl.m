//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/larry/dev/workspace/realtime/realtime-store/src/main/java/com/goodow/realtime/store/impl/CollaborativeMapImpl.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "com/goodow/realtime/core/Handler.h"
#include "com/goodow/realtime/core/Registration.h"
#include "com/goodow/realtime/json/Json.h"
#include "com/goodow/realtime/json/JsonArray.h"
#include "com/goodow/realtime/json/JsonObject.h"
#include "com/goodow/realtime/operation/Operation.h"
#include "com/goodow/realtime/operation/OperationComponent.h"
#include "com/goodow/realtime/operation/create/CreateComponent.h"
#include "com/goodow/realtime/operation/map/json/JsonMapComponent.h"
#include "com/goodow/realtime/store/CollaborativeObject.h"
#include "com/goodow/realtime/store/EventType.h"
#include "com/goodow/realtime/store/ValueChangedEvent.h"
#include "com/goodow/realtime/store/impl/CollaborativeMapImpl.h"
#include "com/goodow/realtime/store/impl/CollaborativeObjectImpl.h"
#include "com/goodow/realtime/store/impl/JsonSerializer.h"
#include "com/goodow/realtime/store/impl/ModelImpl.h"
#include "com/goodow/realtime/store/impl/ValueChangedEventImpl.h"
#include "java/lang/IllegalArgumentException.h"

__attribute__((unused)) static void ComGoodowRealtimeStoreImplCollaborativeMapImpl_checkKeyWithNSString_(ComGoodowRealtimeStoreImplCollaborativeMapImpl *self, NSString *key);
__attribute__((unused)) static void ComGoodowRealtimeStoreImplCollaborativeMapImpl_putAndFireEventWithNSString_withComGoodowRealtimeJsonJsonArray_withNSString_withNSString_(ComGoodowRealtimeStoreImplCollaborativeMapImpl *self, NSString *key, id<ComGoodowRealtimeJsonJsonArray> newValue, NSString *sessionId, NSString *userId);
__attribute__((unused)) static void ComGoodowRealtimeStoreImplCollaborativeMapImpl_removeAndFireEventWithNSString_withNSString_withNSString_(ComGoodowRealtimeStoreImplCollaborativeMapImpl *self, NSString *key, NSString *sessionId, NSString *userId);

@interface ComGoodowRealtimeStoreImplCollaborativeMapImpl () {
 @public
  id<ComGoodowRealtimeJsonJsonObject> snapshot_;
}

- (void)checkKeyWithNSString:(NSString *)key;

- (void)putAndFireEventWithNSString:(NSString *)key
 withComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)newValue
                       withNSString:(NSString *)sessionId
                       withNSString:(NSString *)userId;

- (void)removeAndFireEventWithNSString:(NSString *)key
                          withNSString:(NSString *)sessionId
                          withNSString:(NSString *)userId;
@end

J2OBJC_FIELD_SETTER(ComGoodowRealtimeStoreImplCollaborativeMapImpl, snapshot_, id<ComGoodowRealtimeJsonJsonObject>)

@interface ComGoodowRealtimeStoreImplCollaborativeMapImpl_$1 () {
 @public
  ComGoodowRealtimeStoreImplCollaborativeMapImpl *this$0_;
}
@end

J2OBJC_FIELD_SETTER(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$1, this$0_, ComGoodowRealtimeStoreImplCollaborativeMapImpl *)

@interface ComGoodowRealtimeStoreImplCollaborativeMapImpl_$2 () {
 @public
  ComGoodowRealtimeStoreImplCollaborativeMapImpl *this$0_;
  id<ComGoodowRealtimeJsonJsonArray> val$items_;
}
@end

J2OBJC_FIELD_SETTER(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$2, this$0_, ComGoodowRealtimeStoreImplCollaborativeMapImpl *)
J2OBJC_FIELD_SETTER(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$2, val$items_, id<ComGoodowRealtimeJsonJsonArray>)

@interface ComGoodowRealtimeStoreImplCollaborativeMapImpl_$3 () {
 @public
  ComGoodowRealtimeStoreImplCollaborativeMapImpl *this$0_;
  id<ComGoodowRealtimeJsonJsonObject> val$json_;
}
@end

J2OBJC_FIELD_SETTER(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$3, this$0_, ComGoodowRealtimeStoreImplCollaborativeMapImpl *)
J2OBJC_FIELD_SETTER(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$3, val$json_, id<ComGoodowRealtimeJsonJsonObject>)

@interface ComGoodowRealtimeStoreImplCollaborativeMapImpl_$4 () {
 @public
  ComGoodowRealtimeStoreImplCollaborativeMapImpl *this$0_;
  id<ComGoodowRealtimeJsonJsonArray> val$values_;
}
@end

J2OBJC_FIELD_SETTER(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$4, this$0_, ComGoodowRealtimeStoreImplCollaborativeMapImpl *)
J2OBJC_FIELD_SETTER(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$4, val$values_, id<ComGoodowRealtimeJsonJsonArray>)

@interface ComGoodowRealtimeStoreImplCollaborativeMapImpl_$5 () {
 @public
  ComGoodowRealtimeStoreImplCollaborativeMapImpl *this$0_;
  NSString *val$sessionId_;
  NSString *val$userId_;
  ComGoodowRealtimeOperationOperationComponent *val$component_;
}
@end

J2OBJC_FIELD_SETTER(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$5, this$0_, ComGoodowRealtimeStoreImplCollaborativeMapImpl *)
J2OBJC_FIELD_SETTER(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$5, val$sessionId_, NSString *)
J2OBJC_FIELD_SETTER(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$5, val$userId_, NSString *)
J2OBJC_FIELD_SETTER(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$5, val$component_, ComGoodowRealtimeOperationOperationComponent *)

@interface ComGoodowRealtimeStoreImplCollaborativeMapImpl_$6 () {
 @public
  ComGoodowRealtimeStoreImplCollaborativeMapImpl *this$0_;
  IOSObjectArray *val$toRtn_;
}
@end

J2OBJC_FIELD_SETTER(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$6, this$0_, ComGoodowRealtimeStoreImplCollaborativeMapImpl *)
J2OBJC_FIELD_SETTER(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$6, val$toRtn_, IOSObjectArray *)

@implementation ComGoodowRealtimeStoreImplCollaborativeMapImpl

- (instancetype)initWithComGoodowRealtimeStoreImplModelImpl:(ComGoodowRealtimeStoreImplModelImpl *)model {
  if (self = [super initWithComGoodowRealtimeStoreImplModelImpl:model]) {
    snapshot_ = ComGoodowRealtimeJsonJson_createObject();
  }
  return self;
}

- (id<ComGoodowRealtimeCoreRegistration>)onValueChangedWithComGoodowRealtimeCoreHandler:(id<ComGoodowRealtimeCoreHandler>)handler {
  return [self addEventListenerWithComGoodowRealtimeStoreEventTypeEnum:ComGoodowRealtimeStoreEventTypeEnum_get_VALUE_CHANGED() withComGoodowRealtimeCoreHandler:handler withBoolean:NO];
}

- (void)clear {
  [((ComGoodowRealtimeStoreImplModelImpl *) nil_chk(model_)) beginCompoundOperationWithNSString:@"map.clear"];
  [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk([self keys])) forEachWithComGoodowRealtimeJsonJsonArray_ListIterator:[[ComGoodowRealtimeStoreImplCollaborativeMapImpl_$1 alloc] initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:self]];
  [model_ endCompoundOperation];
}

- (id)getWithNSString:(NSString *)key {
  ComGoodowRealtimeStoreImplCollaborativeMapImpl_checkKeyWithNSString_(self, key);
  return (id) ComGoodowRealtimeStoreImplJsonSerializer_deserializeObjectWithComGoodowRealtimeJsonJsonArray_withComGoodowRealtimeJsonJsonObject_([((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(snapshot_)) getArrayWithNSString:key], ((ComGoodowRealtimeStoreImplModelImpl *) nil_chk(model_))->objects_);
}

- (jboolean)hasWithNSString:(NSString *)key {
  ComGoodowRealtimeStoreImplCollaborativeMapImpl_checkKeyWithNSString_(self, key);
  return [((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(snapshot_)) hasWithNSString:key];
}

- (jboolean)isEmpty {
  return [self size] == 0;
}

- (id<ComGoodowRealtimeJsonJsonArray>)items {
  id<ComGoodowRealtimeJsonJsonArray> items = ComGoodowRealtimeJsonJson_createArray();
  [((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(snapshot_)) forEachWithComGoodowRealtimeJsonJsonObject_MapIterator:[[ComGoodowRealtimeStoreImplCollaborativeMapImpl_$2 alloc] initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:self withComGoodowRealtimeJsonJsonArray:items]];
  return items;
}

- (id<ComGoodowRealtimeJsonJsonArray>)keys {
  return [((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(snapshot_)) keys];
}

- (id)removeWithNSString:(NSString *)key {
  ComGoodowRealtimeStoreImplCollaborativeMapImpl_checkKeyWithNSString_(self, key);
  id oldValue = [self getWithNSString:key];
  if (oldValue == nil) {
    return nil;
  }
  ComGoodowRealtimeOperationMapJsonJsonMapComponent *op = [[ComGoodowRealtimeOperationMapJsonJsonMapComponent alloc] initWithNSString:id__ withNSString:key withComGoodowRealtimeJsonJsonElement:[((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(snapshot_)) getArrayWithNSString:key] withComGoodowRealtimeJsonJsonElement:nil];
  [self consumeAndSubmitWithComGoodowRealtimeOperationOperationComponent:op];
  return oldValue;
}

- (id)setWithNSString:(NSString *)key
               withId:(id)value {
  ComGoodowRealtimeStoreImplCollaborativeMapImpl_checkKeyWithNSString_(self, key);
  id<ComGoodowRealtimeJsonJsonArray> serializedValue = ComGoodowRealtimeStoreImplJsonSerializer_serializeObjectWithId_(value);
  id oldObject = [self getWithNSString:key];
  id<ComGoodowRealtimeJsonJsonArray> oldValue = [((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(snapshot_)) getArrayWithNSString:key];
  if (!ComGoodowRealtimeOperationMapJsonJsonMapComponent_jsonEqualsWithComGoodowRealtimeJsonJsonElement_withComGoodowRealtimeJsonJsonElement_(oldValue, serializedValue)) {
    ComGoodowRealtimeOperationMapJsonJsonMapComponent *op = [[ComGoodowRealtimeOperationMapJsonJsonMapComponent alloc] initWithNSString:id__ withNSString:key withComGoodowRealtimeJsonJsonElement:oldValue withComGoodowRealtimeJsonJsonElement:serializedValue];
    [self consumeAndSubmitWithComGoodowRealtimeOperationOperationComponent:op];
  }
  return oldObject;
}

- (jint)size {
  return [((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(snapshot_)) size];
}

- (id<ComGoodowRealtimeJsonJsonObject>)toJson {
  id<ComGoodowRealtimeJsonJsonObject> json = ComGoodowRealtimeJsonJson_createObject();
  [((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(snapshot_)) forEachWithComGoodowRealtimeJsonJsonObject_MapIterator:[[ComGoodowRealtimeStoreImplCollaborativeMapImpl_$3 alloc] initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:self withComGoodowRealtimeJsonJsonObject:json]];
  return json;
}

- (id<ComGoodowRealtimeJsonJsonArray>)values {
  id<ComGoodowRealtimeJsonJsonArray> values = ComGoodowRealtimeJsonJson_createArray();
  [((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(snapshot_)) forEachWithComGoodowRealtimeJsonJsonObject_MapIterator:[[ComGoodowRealtimeStoreImplCollaborativeMapImpl_$4 alloc] initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:self withComGoodowRealtimeJsonJsonArray:values]];
  return values;
}

- (void)consumeWithNSString:(NSString *)userId
               withNSString:(NSString *)sessionId
withComGoodowRealtimeOperationOperationComponent:(ComGoodowRealtimeOperationOperationComponent *)component {
  [((id<ComGoodowRealtimeOperationOperation>) nil_chk(((id<ComGoodowRealtimeOperationOperation>) check_protocol_cast(component, @protocol(ComGoodowRealtimeOperationOperation))))) applyWithId:[[ComGoodowRealtimeStoreImplCollaborativeMapImpl_$5 alloc] initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:self withNSString:sessionId withNSString:userId withComGoodowRealtimeOperationOperationComponent:component]];
}

- (IOSObjectArray *)toInitialization {
  IOSObjectArray *toRtn = [IOSObjectArray newArrayWithLength:1 + [self size] type:ComGoodowRealtimeOperationOperationComponent_class_()];
  IOSObjectArray_SetAndConsume(toRtn, 0, [[ComGoodowRealtimeOperationCreateCreateComponent alloc] initWithNSString:id__ withInt:ComGoodowRealtimeOperationCreateCreateComponent_MAP]);
  if (![self isEmpty]) {
    [((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(snapshot_)) forEachWithComGoodowRealtimeJsonJsonObject_MapIterator:[[ComGoodowRealtimeStoreImplCollaborativeMapImpl_$6 alloc] initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:self withComGoodowRealtimeOperationOperationComponentArray:toRtn]];
  }
  return toRtn;
}

- (void)checkKeyWithNSString:(NSString *)key {
  ComGoodowRealtimeStoreImplCollaborativeMapImpl_checkKeyWithNSString_(self, key);
}

- (void)putAndFireEventWithNSString:(NSString *)key
 withComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)newValue
                       withNSString:(NSString *)sessionId
                       withNSString:(NSString *)userId {
  ComGoodowRealtimeStoreImplCollaborativeMapImpl_putAndFireEventWithNSString_withComGoodowRealtimeJsonJsonArray_withNSString_withNSString_(self, key, newValue, sessionId, userId);
}

- (void)removeAndFireEventWithNSString:(NSString *)key
                          withNSString:(NSString *)sessionId
                          withNSString:(NSString *)userId {
  ComGoodowRealtimeStoreImplCollaborativeMapImpl_removeAndFireEventWithNSString_withNSString_withNSString_(self, key, sessionId, userId);
}

- (void)copyAllFieldsTo:(ComGoodowRealtimeStoreImplCollaborativeMapImpl *)other {
  [super copyAllFieldsTo:other];
  other->snapshot_ = snapshot_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithComGoodowRealtimeStoreImplModelImpl:", "CollaborativeMapImpl", NULL, 0x0, NULL },
    { "onValueChangedWithComGoodowRealtimeCoreHandler:", "onValueChanged", "Lcom.goodow.realtime.core.Registration;", 0x1, NULL },
    { "clear", NULL, "V", 0x1, NULL },
    { "getWithNSString:", "get", "TT;", 0x1, NULL },
    { "hasWithNSString:", "has", "Z", 0x1, NULL },
    { "isEmpty", NULL, "Z", 0x1, NULL },
    { "items", NULL, "Lcom.goodow.realtime.json.JsonArray;", 0x1, NULL },
    { "keys", NULL, "Lcom.goodow.realtime.json.JsonArray;", 0x1, NULL },
    { "removeWithNSString:", "remove", "TT;", 0x1, NULL },
    { "setWithNSString:withId:", "set", "TT;", 0x1, NULL },
    { "size", NULL, "I", 0x1, NULL },
    { "toJson", NULL, "Lcom.goodow.realtime.json.JsonObject;", 0x1, NULL },
    { "values", NULL, "Lcom.goodow.realtime.json.JsonArray;", 0x1, NULL },
    { "consumeWithNSString:withNSString:withComGoodowRealtimeOperationOperationComponent:", "consume", "V", 0x4, NULL },
    { "toInitialization", NULL, "[Lcom.goodow.realtime.operation.OperationComponent;", 0x0, NULL },
    { "checkKeyWithNSString:", "checkKey", "V", 0x2, NULL },
    { "putAndFireEventWithNSString:withComGoodowRealtimeJsonJsonArray:withNSString:withNSString:", "putAndFireEvent", "V", 0x2, NULL },
    { "removeAndFireEventWithNSString:withNSString:withNSString:", "removeAndFireEvent", "V", 0x2, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "snapshot_", NULL, 0x12, "Lcom.goodow.realtime.json.JsonObject;", NULL,  },
  };
  static const J2ObjcClassInfo _ComGoodowRealtimeStoreImplCollaborativeMapImpl = { 1, "CollaborativeMapImpl", "com.goodow.realtime.store.impl", NULL, 0x0, 18, methods, 1, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplCollaborativeMapImpl;
}

@end

void ComGoodowRealtimeStoreImplCollaborativeMapImpl_checkKeyWithNSString_(ComGoodowRealtimeStoreImplCollaborativeMapImpl *self, NSString *key) {
  if (key == nil) {
    @throw [[JavaLangIllegalArgumentException alloc] initWithNSString:@"Expected string for key, but was: null"];
  }
}

void ComGoodowRealtimeStoreImplCollaborativeMapImpl_putAndFireEventWithNSString_withComGoodowRealtimeJsonJsonArray_withNSString_withNSString_(ComGoodowRealtimeStoreImplCollaborativeMapImpl *self, NSString *key, id<ComGoodowRealtimeJsonJsonArray> newValue, NSString *sessionId, NSString *userId) {
  NSCAssert(nil != newValue, @"com/goodow/realtime/store/impl/CollaborativeMapImpl.java:186 condition failed: assert null != newValue;");
  id newObject = ComGoodowRealtimeStoreImplJsonSerializer_deserializeObjectWithComGoodowRealtimeJsonJsonArray_withComGoodowRealtimeJsonJsonObject_(newValue, ((ComGoodowRealtimeStoreImplModelImpl *) nil_chk(self->model_))->objects_);
  id<ComGoodowRealtimeStoreValueChangedEvent> event = [[ComGoodowRealtimeStoreImplValueChangedEventImpl alloc] initWithComGoodowRealtimeJsonJsonObject:[((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([self eventWithNSString:sessionId withNSString:userId])) setWithNSString:@"property" withId:key])) setWithNSString:@"oldValue" withId:[self getWithNSString:key]])) setWithNSString:@"newValue" withId:newObject]];
  if ([((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(self->snapshot_)) hasWithNSString:key]) {
    id<ComGoodowRealtimeJsonJsonArray> oldValue = [self->snapshot_ getArrayWithNSString:key];
    [self->model_ addOrRemoveParentWithComGoodowRealtimeJsonJsonArray:oldValue withNSString:self->id__ withBoolean:NO];
    self->model_->bytesUsed_ -= ((jint) [((NSString *) nil_chk([((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(oldValue)) toJsonString])) length]);
  }
  (void) [self->snapshot_ setWithNSString:key withId:newValue];
  [self->model_ addOrRemoveParentWithComGoodowRealtimeJsonJsonArray:newValue withNSString:self->id__ withBoolean:YES];
  [self fireEventWithComGoodowRealtimeStoreBaseModelEvent:event];
  self->model_->bytesUsed_ += ((jint) [((NSString *) nil_chk([((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(newValue)) toJsonString])) length]);
}

void ComGoodowRealtimeStoreImplCollaborativeMapImpl_removeAndFireEventWithNSString_withNSString_withNSString_(ComGoodowRealtimeStoreImplCollaborativeMapImpl *self, NSString *key, NSString *sessionId, NSString *userId) {
  NSCAssert([self hasWithNSString:key], @"com/goodow/realtime/store/impl/CollaborativeMapImpl.java:203 condition failed: assert has(key);");
  id<ComGoodowRealtimeJsonJsonArray> oldValue = [((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(self->snapshot_)) getArrayWithNSString:key];
  id<ComGoodowRealtimeStoreValueChangedEvent> event = [[ComGoodowRealtimeStoreImplValueChangedEventImpl alloc] initWithComGoodowRealtimeJsonJsonObject:[((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([self eventWithNSString:sessionId withNSString:userId])) setWithNSString:@"property" withId:key])) setWithNSString:@"oldValue" withId:[self getWithNSString:key]])) setWithNSString:@"newValue" withId:nil]];
  (void) [self->snapshot_ removeWithNSString:key];
  [((ComGoodowRealtimeStoreImplModelImpl *) nil_chk(self->model_)) addOrRemoveParentWithComGoodowRealtimeJsonJsonArray:oldValue withNSString:self->id__ withBoolean:NO];
  [self fireEventWithComGoodowRealtimeStoreBaseModelEvent:event];
  self->model_->bytesUsed_ -= ((jint) [((NSString *) nil_chk([((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(oldValue)) toJsonString])) length]);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoodowRealtimeStoreImplCollaborativeMapImpl)

@implementation ComGoodowRealtimeStoreImplCollaborativeMapImpl_$1

- (void)callWithInt:(jint)index
             withId:(NSString *)key {
  (void) [this$0_ removeWithNSString:key];
}

- (instancetype)initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:(ComGoodowRealtimeStoreImplCollaborativeMapImpl *)outer$ {
  this$0_ = outer$;
  return [super init];
}

- (void)copyAllFieldsTo:(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$1 *)other {
  [super copyAllFieldsTo:other];
  other->this$0_ = this$0_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "callWithInt:withNSString:", "call", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:", "init", NULL, 0x0, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.goodow.realtime.store.impl.CollaborativeMapImpl;", NULL,  },
  };
  static const J2ObjcClassInfo _ComGoodowRealtimeStoreImplCollaborativeMapImpl_$1 = { 1, "$1", "com.goodow.realtime.store.impl", "CollaborativeMapImpl", 0x8000, 2, methods, 1, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplCollaborativeMapImpl_$1;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$1)

@implementation ComGoodowRealtimeStoreImplCollaborativeMapImpl_$2

- (void)callWithNSString:(NSString *)key
                  withId:(id<ComGoodowRealtimeJsonJsonArray>)value {
  id<ComGoodowRealtimeJsonJsonArray> item = [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk([((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(ComGoodowRealtimeJsonJson_createArray())) pushWithId:key])) pushWithId:[this$0_ getWithNSString:key]];
  (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(val$items_)) pushWithId:item];
}

- (instancetype)initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:(ComGoodowRealtimeStoreImplCollaborativeMapImpl *)outer$
                                    withComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)capture$0 {
  this$0_ = outer$;
  val$items_ = capture$0;
  return [super init];
}

- (void)copyAllFieldsTo:(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$2 *)other {
  [super copyAllFieldsTo:other];
  other->this$0_ = this$0_;
  other->val$items_ = val$items_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "callWithNSString:withComGoodowRealtimeJsonJsonArray:", "call", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:withComGoodowRealtimeJsonJsonArray:", "init", NULL, 0x0, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.goodow.realtime.store.impl.CollaborativeMapImpl;", NULL,  },
    { "val$items_", NULL, 0x1012, "Lcom.goodow.realtime.json.JsonArray;", NULL,  },
  };
  static const J2ObjcClassInfo _ComGoodowRealtimeStoreImplCollaborativeMapImpl_$2 = { 1, "$2", "com.goodow.realtime.store.impl", "CollaborativeMapImpl", 0x8000, 2, methods, 2, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplCollaborativeMapImpl_$2;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$2)

@implementation ComGoodowRealtimeStoreImplCollaborativeMapImpl_$3

- (void)callWithNSString:(NSString *)key
                  withId:(id<ComGoodowRealtimeJsonJsonArray>)value {
  id val = [this$0_ getWithNSString:key];
  if ([val isKindOfClass:[ComGoodowRealtimeStoreImplCollaborativeObjectImpl class]]) {
    (void) [((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(val$json_)) setWithNSString:key withId:[((id<ComGoodowRealtimeStoreCollaborativeObject>) nil_chk(((id<ComGoodowRealtimeStoreCollaborativeObject>) check_protocol_cast(val, @protocol(ComGoodowRealtimeStoreCollaborativeObject))))) toJson]];
  }
  else {
    (void) [((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(val$json_)) setWithNSString:key withId:[((id<ComGoodowRealtimeJsonJsonArray>) nil_chk([((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(this$0_->snapshot_)) getArrayWithNSString:key])) getWithInt:1]];
  }
}

- (instancetype)initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:(ComGoodowRealtimeStoreImplCollaborativeMapImpl *)outer$
                                   withComGoodowRealtimeJsonJsonObject:(id<ComGoodowRealtimeJsonJsonObject>)capture$0 {
  this$0_ = outer$;
  val$json_ = capture$0;
  return [super init];
}

- (void)copyAllFieldsTo:(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$3 *)other {
  [super copyAllFieldsTo:other];
  other->this$0_ = this$0_;
  other->val$json_ = val$json_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "callWithNSString:withComGoodowRealtimeJsonJsonArray:", "call", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:withComGoodowRealtimeJsonJsonObject:", "init", NULL, 0x0, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.goodow.realtime.store.impl.CollaborativeMapImpl;", NULL,  },
    { "val$json_", NULL, 0x1012, "Lcom.goodow.realtime.json.JsonObject;", NULL,  },
  };
  static const J2ObjcClassInfo _ComGoodowRealtimeStoreImplCollaborativeMapImpl_$3 = { 1, "$3", "com.goodow.realtime.store.impl", "CollaborativeMapImpl", 0x8000, 2, methods, 2, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplCollaborativeMapImpl_$3;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$3)

@implementation ComGoodowRealtimeStoreImplCollaborativeMapImpl_$4

- (void)callWithNSString:(NSString *)key
                  withId:(id<ComGoodowRealtimeJsonJsonArray>)value {
  (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(val$values_)) pushWithId:[this$0_ getWithNSString:key]];
}

- (instancetype)initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:(ComGoodowRealtimeStoreImplCollaborativeMapImpl *)outer$
                                    withComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)capture$0 {
  this$0_ = outer$;
  val$values_ = capture$0;
  return [super init];
}

- (void)copyAllFieldsTo:(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$4 *)other {
  [super copyAllFieldsTo:other];
  other->this$0_ = this$0_;
  other->val$values_ = val$values_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "callWithNSString:withComGoodowRealtimeJsonJsonArray:", "call", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:withComGoodowRealtimeJsonJsonArray:", "init", NULL, 0x0, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.goodow.realtime.store.impl.CollaborativeMapImpl;", NULL,  },
    { "val$values_", NULL, 0x1012, "Lcom.goodow.realtime.json.JsonArray;", NULL,  },
  };
  static const J2ObjcClassInfo _ComGoodowRealtimeStoreImplCollaborativeMapImpl_$4 = { 1, "$4", "com.goodow.realtime.store.impl", "CollaborativeMapImpl", 0x8000, 2, methods, 2, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplCollaborativeMapImpl_$4;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$4)

@implementation ComGoodowRealtimeStoreImplCollaborativeMapImpl_$5

- (void)setWithNSString:(NSString *)key
                 withId:(id<ComGoodowRealtimeJsonJsonArray>)newValue {
  if (newValue == nil) {
    ComGoodowRealtimeStoreImplCollaborativeMapImpl_removeAndFireEventWithNSString_withNSString_withNSString_(this$0_, key, val$sessionId_, val$userId_);
    ((ComGoodowRealtimeStoreImplModelImpl *) nil_chk(this$0_->model_))->bytesUsed_ -= ((jint) [((NSString *) nil_chk([((ComGoodowRealtimeOperationOperationComponent *) nil_chk(val$component_)) description])) length]);
    this$0_->model_->bytesUsed_ -= 2;
  }
  else {
    ComGoodowRealtimeStoreImplCollaborativeMapImpl_putAndFireEventWithNSString_withComGoodowRealtimeJsonJsonArray_withNSString_withNSString_(this$0_, key, newValue, val$sessionId_, val$userId_);
  }
}

- (instancetype)initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:(ComGoodowRealtimeStoreImplCollaborativeMapImpl *)outer$
                                                          withNSString:(NSString *)capture$0
                                                          withNSString:(NSString *)capture$1
                      withComGoodowRealtimeOperationOperationComponent:(ComGoodowRealtimeOperationOperationComponent *)capture$2 {
  this$0_ = outer$;
  val$sessionId_ = capture$0;
  val$userId_ = capture$1;
  val$component_ = capture$2;
  return [super init];
}

- (void)copyAllFieldsTo:(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$5 *)other {
  [super copyAllFieldsTo:other];
  other->this$0_ = this$0_;
  other->val$sessionId_ = val$sessionId_;
  other->val$userId_ = val$userId_;
  other->val$component_ = val$component_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "setWithNSString:withComGoodowRealtimeJsonJsonArray:", "set", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:withNSString:withNSString:withComGoodowRealtimeOperationOperationComponent:", "init", NULL, 0x0, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.goodow.realtime.store.impl.CollaborativeMapImpl;", NULL,  },
    { "val$sessionId_", NULL, 0x1012, "Ljava.lang.String;", NULL,  },
    { "val$userId_", NULL, 0x1012, "Ljava.lang.String;", NULL,  },
    { "val$component_", NULL, 0x1012, "Lcom.goodow.realtime.operation.OperationComponent;", NULL,  },
  };
  static const J2ObjcClassInfo _ComGoodowRealtimeStoreImplCollaborativeMapImpl_$5 = { 1, "$5", "com.goodow.realtime.store.impl", "CollaborativeMapImpl", 0x8000, 2, methods, 4, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplCollaborativeMapImpl_$5;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$5)

@implementation ComGoodowRealtimeStoreImplCollaborativeMapImpl_$6

- (void)callWithNSString:(NSString *)key
                  withId:(id<ComGoodowRealtimeJsonJsonArray>)value {
  IOSObjectArray_SetAndConsume(nil_chk(val$toRtn_), i_++, [[ComGoodowRealtimeOperationMapJsonJsonMapComponent alloc] initWithNSString:this$0_->id__ withNSString:key withComGoodowRealtimeJsonJsonElement:nil withComGoodowRealtimeJsonJsonElement:[((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(this$0_->snapshot_)) getArrayWithNSString:key]]);
}

- (instancetype)initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:(ComGoodowRealtimeStoreImplCollaborativeMapImpl *)outer$
                 withComGoodowRealtimeOperationOperationComponentArray:(IOSObjectArray *)capture$0 {
  this$0_ = outer$;
  val$toRtn_ = capture$0;
  if (self = [super init]) {
    i_ = 1;
  }
  return self;
}

- (void)copyAllFieldsTo:(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$6 *)other {
  [super copyAllFieldsTo:other];
  other->this$0_ = this$0_;
  other->i_ = i_;
  other->val$toRtn_ = val$toRtn_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "callWithNSString:withComGoodowRealtimeJsonJsonArray:", "call", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeStoreImplCollaborativeMapImpl:withComGoodowRealtimeOperationOperationComponentArray:", "init", NULL, 0x0, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.goodow.realtime.store.impl.CollaborativeMapImpl;", NULL,  },
    { "i_", NULL, 0x0, "I", NULL,  },
    { "val$toRtn_", NULL, 0x1012, "[Lcom.goodow.realtime.operation.OperationComponent;", NULL,  },
  };
  static const J2ObjcClassInfo _ComGoodowRealtimeStoreImplCollaborativeMapImpl_$6 = { 1, "$6", "com.goodow.realtime.store.impl", "CollaborativeMapImpl", 0x8000, 2, methods, 3, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplCollaborativeMapImpl_$6;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoodowRealtimeStoreImplCollaborativeMapImpl_$6)
