//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/larry/dev/workspace/realtime/realtime-store/src/main/java/com/goodow/realtime/store/impl/MemoryStore.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "com/goodow/realtime/channel/Bus.h"
#include "com/goodow/realtime/channel/impl/SimpleBus.h"
#include "com/goodow/realtime/core/Handler.h"
#include "com/goodow/realtime/core/Platform.h"
#include "com/goodow/realtime/core/Scheduler.h"
#include "com/goodow/realtime/store/Document.h"
#include "com/goodow/realtime/store/Model.h"
#include "com/goodow/realtime/store/impl/DocumentBridge.h"
#include "com/goodow/realtime/store/impl/MemoryStore.h"

@implementation ComGoodowRealtimeStoreImplMemoryStore

- (instancetype)init {
  return [self initComGoodowRealtimeStoreImplMemoryStoreWithComGoodowRealtimeChannelBus:[[ComGoodowRealtimeChannelImplSimpleBus alloc] init]];
}

- (instancetype)initComGoodowRealtimeStoreImplMemoryStoreWithComGoodowRealtimeChannelBus:(id<ComGoodowRealtimeChannelBus>)bus {
  if (self = [super init]) {
    self->bus_ = bus;
  }
  return self;
}

- (instancetype)initWithComGoodowRealtimeChannelBus:(id<ComGoodowRealtimeChannelBus>)bus {
  return [self initComGoodowRealtimeStoreImplMemoryStoreWithComGoodowRealtimeChannelBus:bus];
}

- (void)close {
  [((id<ComGoodowRealtimeChannelBus>) nil_chk(bus_)) close];
}

- (id<ComGoodowRealtimeChannelBus>)getBus {
  return bus_;
}

- (void)load__WithNSString:(NSString *)id_
withComGoodowRealtimeCoreHandler:(id<ComGoodowRealtimeCoreHandler>)onLoaded
withComGoodowRealtimeCoreHandler:(id<ComGoodowRealtimeCoreHandler>)opt_initializer
withComGoodowRealtimeCoreHandler:(id<ComGoodowRealtimeCoreHandler>)opt_error {
  ComGoodowRealtimeStoreImplDocumentBridge *bridge = [[ComGoodowRealtimeStoreImplDocumentBridge alloc] initWithComGoodowRealtimeStoreStore:self withNSString:id_ withComGoodowRealtimeJsonJsonArray:nil withComGoodowRealtimeJsonJsonArray:nil withComGoodowRealtimeCoreHandler:opt_error];
  [bridge createRoot];
  if (opt_initializer != nil) {
    [((id<ComGoodowRealtimeCoreScheduler>) nil_chk(ComGoodowRealtimeCorePlatform_scheduler())) handleWithId:opt_initializer withId:[((id<ComGoodowRealtimeStoreDocument>) nil_chk([bridge getDocument])) getModel]];
  }
  [bridge scheduleHandleWithComGoodowRealtimeCoreHandler:onLoaded withId:[bridge getDocument]];
}

- (void)copyAllFieldsTo:(ComGoodowRealtimeStoreImplMemoryStore *)other {
  [super copyAllFieldsTo:other];
  other->bus_ = bus_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "MemoryStore", NULL, 0x1, NULL },
    { "initWithComGoodowRealtimeChannelBus:", "MemoryStore", NULL, 0x1, NULL },
    { "close", NULL, "V", 0x1, NULL },
    { "getBus", NULL, "Lcom.goodow.realtime.channel.Bus;", 0x1, NULL },
    { "load__WithNSString:withComGoodowRealtimeCoreHandler:withComGoodowRealtimeCoreHandler:withComGoodowRealtimeCoreHandler:", "load", "V", 0x1, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "bus_", NULL, 0x11, "Lcom.goodow.realtime.channel.Bus;", NULL,  },
  };
  static const J2ObjcClassInfo _ComGoodowRealtimeStoreImplMemoryStore = { 1, "MemoryStore", "com.goodow.realtime.store.impl", NULL, 0x1, 5, methods, 1, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplMemoryStore;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoodowRealtimeStoreImplMemoryStore)
