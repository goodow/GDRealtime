//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/retechretech/dev/workspace/realtime/realtime-store/src/main/java/com/goodow/realtime/store/impl/DefaultDocument.java
//
//  Created by retechretech.
//

#include "IOSClass.h"
#include "com/goodow/realtime/channel/Bus.h"
#include "com/goodow/realtime/channel/Message.h"
#include "com/goodow/realtime/core/Handler.h"
#include "com/goodow/realtime/core/Platform.h"
#include "com/goodow/realtime/core/Registration.h"
#include "com/goodow/realtime/core/Registrations.h"
#include "com/goodow/realtime/core/Scheduler.h"
#include "com/goodow/realtime/json/Json.h"
#include "com/goodow/realtime/json/JsonArray.h"
#include "com/goodow/realtime/json/JsonObject.h"
#include "com/goodow/realtime/store/BaseModelEvent.h"
#include "com/goodow/realtime/store/Collaborator.h"
#include "com/goodow/realtime/store/Error.h"
#include "com/goodow/realtime/store/EventType.h"
#include "com/goodow/realtime/store/Store.h"
#include "com/goodow/realtime/store/channel/Constants.h"
#include "com/goodow/realtime/store/impl/DefaultBaseModelEvent.h"
#include "com/goodow/realtime/store/impl/DefaultCollaboratorJoinedEvent.h"
#include "com/goodow/realtime/store/impl/DefaultCollaboratorLeftEvent.h"
#include "com/goodow/realtime/store/impl/DefaultDocument.h"
#include "com/goodow/realtime/store/impl/DefaultModel.h"
#include "com/goodow/realtime/store/impl/DefaultObjectChangedEvent.h"
#include "com/goodow/realtime/store/impl/DocumentBridge.h"
#include "java/lang/NullPointerException.h"
#include "java/lang/Void.h"

@implementation ComGoodowRealtimeStoreImplDefaultDocument

- (id)initWithComGoodowRealtimeStoreImplDocumentBridge:(ComGoodowRealtimeStoreImplDocumentBridge *)internalApi
                      withComGoodowRealtimeCoreHandler:(id<ComGoodowRealtimeCoreHandler>)errorHandler {
  if (self = [super init]) {
    isEventsScheduled_ = NO;
    eventsTask_ = [[ComGoodowRealtimeStoreImplDefaultDocument_$1 alloc] initWithComGoodowRealtimeStoreImplDefaultDocument:self];
    model_ = [[ComGoodowRealtimeStoreImplDefaultModel alloc] initWithComGoodowRealtimeStoreImplDocumentBridge:internalApi withComGoodowRealtimeStoreImplDefaultDocument:self];
    collaborators_ = [ComGoodowRealtimeJsonJson createArray];
    handlerRegs_ = [[ComGoodowRealtimeCoreRegistrations alloc] init];
    if (errorHandler != nil) {
      (void) [handlerRegs_ wrapWithComGoodowRealtimeCoreRegistration:[((id<ComGoodowRealtimeChannelBus>) nil_chk([((id<ComGoodowRealtimeStoreStore>) nil_chk(((ComGoodowRealtimeStoreImplDocumentBridge *) nil_chk(internalApi))->store_)) getBus])) registerLocalHandlerWithNSString:[NSString stringWithFormat:@"%@%@:%@", ComGoodowRealtimeStoreChannelConstants_Addr_get_EVENT_(), ComGoodowRealtimeStoreChannelConstants_Addr_get_DOCUMENT_ERROR_(), internalApi->id__] withComGoodowRealtimeCoreHandler:[[ComGoodowRealtimeStoreImplDefaultDocument_$2 alloc] initWithComGoodowRealtimeCoreHandler:errorHandler]]];
    }
  }
  return self;
}

- (id<ComGoodowRealtimeCoreRegistration>)onCollaboratorJoinedWithComGoodowRealtimeCoreHandler:(id<ComGoodowRealtimeCoreHandler>)handler {
  return [self addEventListenerWithNSString:nil withComGoodowRealtimeStoreEventTypeEnum:ComGoodowRealtimeStoreEventTypeEnum_get_COLLABORATOR_JOINED() withComGoodowRealtimeCoreHandler:handler withBoolean:NO];
}

- (id<ComGoodowRealtimeCoreRegistration>)onCollaboratorLeftWithComGoodowRealtimeCoreHandler:(id<ComGoodowRealtimeCoreHandler>)handler {
  return [self addEventListenerWithNSString:nil withComGoodowRealtimeStoreEventTypeEnum:ComGoodowRealtimeStoreEventTypeEnum_get_COLLABORATOR_LEFT() withComGoodowRealtimeCoreHandler:handler withBoolean:NO];
}

- (id<ComGoodowRealtimeCoreRegistration>)onDocumentSaveStateChangedWithComGoodowRealtimeCoreHandler:(id<ComGoodowRealtimeCoreHandler>)handler {
  return [self addEventListenerWithNSString:nil withComGoodowRealtimeStoreEventTypeEnum:ComGoodowRealtimeStoreEventTypeEnum_get_DOCUMENT_SAVE_STATE_CHANGED() withComGoodowRealtimeCoreHandler:handler withBoolean:NO];
}

- (void)close {
  [((id<ComGoodowRealtimeStoreImplDocumentBridge_OutputSink>) nil_chk(((ComGoodowRealtimeStoreImplDocumentBridge *) nil_chk(((ComGoodowRealtimeStoreImplDefaultModel *) nil_chk(model_))->bridge_))->outputSink_)) close];
  (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(collaborators_)) clear];
  [((ComGoodowRealtimeCoreRegistrations *) nil_chk(handlerRegs_)) unregister];
}

- (id<ComGoodowRealtimeJsonJsonArray>)getCollaborators {
  return [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(collaborators_)) copy__];
}

- (ComGoodowRealtimeStoreImplDefaultModel *)getModel {
  return model_;
}

- (id<ComGoodowRealtimeCoreRegistration>)addEventListenerWithNSString:(NSString *)objectId
                              withComGoodowRealtimeStoreEventTypeEnum:(ComGoodowRealtimeStoreEventTypeEnum *)type
                                     withComGoodowRealtimeCoreHandler:(id<ComGoodowRealtimeCoreHandler>)handler
                                                          withBoolean:(BOOL)opt_capture {
  if (type == nil || handler == nil) {
    @throw [[JavaLangNullPointerException alloc] initWithNSString:[NSString stringWithFormat:@"%@ was null.", (type == nil ? @"type" : @"handler")]];
  }
  return [((ComGoodowRealtimeCoreRegistrations *) nil_chk(handlerRegs_)) wrapWithComGoodowRealtimeCoreRegistration:[((id<ComGoodowRealtimeChannelBus>) nil_chk([((id<ComGoodowRealtimeStoreStore>) nil_chk(((ComGoodowRealtimeStoreImplDocumentBridge *) nil_chk(((ComGoodowRealtimeStoreImplDefaultModel *) nil_chk(model_))->bridge_))->store_)) getBus])) registerLocalHandlerWithNSString:[NSString stringWithFormat:@"%@%@:%@%@", ComGoodowRealtimeStoreChannelConstants_Addr_get_EVENT_(), type, model_->bridge_->id__, (objectId == nil ? @"" : ([NSString stringWithFormat:@":%@", objectId]))] withComGoodowRealtimeCoreHandler:[[ComGoodowRealtimeStoreImplDefaultDocument_$3 alloc] initWithComGoodowRealtimeCoreHandler:handler]]];
}

- (void)onCollaboratorChangedWithBoolean:(BOOL)isJoined
  withComGoodowRealtimeStoreCollaborator:(id<ComGoodowRealtimeStoreCollaborator>)collaborator {
  int index = [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(collaborators_)) indexOfWithId:collaborator];
  if (isJoined) {
    if (index == -1) {
      (void) [collaborators_ pushWithId:collaborator];
      (void) [((id<ComGoodowRealtimeChannelBus>) nil_chk([((id<ComGoodowRealtimeStoreStore>) nil_chk(((ComGoodowRealtimeStoreImplDocumentBridge *) nil_chk(((ComGoodowRealtimeStoreImplDefaultModel *) nil_chk(model_))->bridge_))->store_)) getBus])) publishLocalWithNSString:[NSString stringWithFormat:@"%@%@:%@", ComGoodowRealtimeStoreChannelConstants_Addr_get_EVENT_(), ComGoodowRealtimeStoreEventTypeEnum_get_COLLABORATOR_JOINED(), model_->bridge_->id__] withId:[[ComGoodowRealtimeStoreImplDefaultCollaboratorJoinedEvent alloc] initWithComGoodowRealtimeStoreDocument:self withComGoodowRealtimeStoreCollaborator:collaborator]];
    }
  }
  else {
    if (index != -1) {
      (void) [collaborators_ removeWithInt:index];
      (void) [((id<ComGoodowRealtimeChannelBus>) nil_chk([((id<ComGoodowRealtimeStoreStore>) nil_chk(((ComGoodowRealtimeStoreImplDocumentBridge *) nil_chk(((ComGoodowRealtimeStoreImplDefaultModel *) nil_chk(model_))->bridge_))->store_)) getBus])) publishLocalWithNSString:[NSString stringWithFormat:@"%@%@:%@", ComGoodowRealtimeStoreChannelConstants_Addr_get_EVENT_(), ComGoodowRealtimeStoreEventTypeEnum_get_COLLABORATOR_LEFT(), model_->bridge_->id__] withId:[[ComGoodowRealtimeStoreImplDefaultCollaboratorLeftEvent alloc] initWithComGoodowRealtimeStoreDocument:self withComGoodowRealtimeStoreCollaborator:collaborator]];
    }
  }
}

- (void)scheduleEventWithComGoodowRealtimeStoreBaseModelEvent:(id<ComGoodowRealtimeStoreBaseModelEvent>)event {
  if (eventsToFire_ == nil) {
    eventsToFire_ = [ComGoodowRealtimeJsonJson createArray];
  }
  (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(eventsToFire_)) pushWithId:event];
  if (!isEventsScheduled_) {
    isEventsScheduled_ = YES;
    [((id<ComGoodowRealtimeCoreScheduler>) nil_chk([ComGoodowRealtimeCorePlatform scheduler])) scheduleDeferredWithComGoodowRealtimeCoreHandler:eventsTask_];
  }
}

- (void)copyAllFieldsTo:(ComGoodowRealtimeStoreImplDefaultDocument *)other {
  [super copyAllFieldsTo:other];
  other->collaborators_ = collaborators_;
  other->eventsTask_ = eventsTask_;
  other->eventsToFire_ = eventsToFire_;
  other->handlerRegs_ = handlerRegs_;
  other->isEventsScheduled_ = isEventsScheduled_;
  other->model_ = model_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "initWithComGoodowRealtimeStoreImplDocumentBridge:withComGoodowRealtimeCoreHandler:", "DefaultDocument", NULL, 0x0, NULL },
    { "onCollaboratorJoinedWithComGoodowRealtimeCoreHandler:", "onCollaboratorJoined", "Lcom.goodow.realtime.core.Registration;", 0x1, NULL },
    { "onCollaboratorLeftWithComGoodowRealtimeCoreHandler:", "onCollaboratorLeft", "Lcom.goodow.realtime.core.Registration;", 0x1, NULL },
    { "onDocumentSaveStateChangedWithComGoodowRealtimeCoreHandler:", "onDocumentSaveStateChanged", "Lcom.goodow.realtime.core.Registration;", 0x1, NULL },
    { "close", NULL, "V", 0x1, NULL },
    { "getCollaborators", NULL, "Lcom.goodow.realtime.json.JsonArray;", 0x1, NULL },
    { "getModel", NULL, "Lcom.goodow.realtime.store.impl.DefaultModel;", 0x1, NULL },
    { "addEventListenerWithNSString:withComGoodowRealtimeStoreEventTypeEnum:withComGoodowRealtimeCoreHandler:withBoolean:", "addEventListener", "Lcom.goodow.realtime.core.Registration;", 0x0, NULL },
    { "onCollaboratorChangedWithBoolean:withComGoodowRealtimeStoreCollaborator:", "onCollaboratorChanged", "V", 0x0, NULL },
    { "scheduleEventWithComGoodowRealtimeStoreBaseModelEvent:", "scheduleEvent", "V", 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "collaborators_", NULL, 0x12, "Lcom.goodow.realtime.json.JsonArray;", NULL,  },
    { "model_", NULL, 0x12, "Lcom.goodow.realtime.store.impl.DefaultModel;", NULL,  },
    { "handlerRegs_", NULL, 0x10, "Lcom.goodow.realtime.core.Registrations;", NULL,  },
    { "isEventsScheduled_", NULL, 0x2, "Z", NULL,  },
    { "eventsToFire_", NULL, 0x2, "Lcom.goodow.realtime.json.JsonArray;", NULL,  },
    { "eventsTask_", NULL, 0x12, "Lcom.goodow.realtime.core.Handler;", NULL,  },
  };
  static J2ObjcClassInfo _ComGoodowRealtimeStoreImplDefaultDocument = { "DefaultDocument", "com.goodow.realtime.store.impl", NULL, 0x0, 10, methods, 6, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplDefaultDocument;
}

@end

@implementation ComGoodowRealtimeStoreImplDefaultDocument_$1

- (void)handleWithId:(id)ignore {
  evtsToFire_ = this$0_->eventsToFire_;
  this$0_->eventsToFire_ = nil;
  this$0_->isEventsScheduled_ = NO;
  eventsById_ = [ComGoodowRealtimeJsonJson createObject];
  [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(evtsToFire_)) forEachWithComGoodowRealtimeJsonJsonArray_ListIterator:[[ComGoodowRealtimeStoreImplDefaultDocument_$1_$1 alloc] initWithComGoodowRealtimeStoreImplDefaultDocument_$1:self]];
  [((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(eventsById_)) forEachWithComGoodowRealtimeJsonJsonObject_MapIterator:[[ComGoodowRealtimeStoreImplDefaultDocument_$1_$2 alloc] initWithComGoodowRealtimeStoreImplDefaultDocument_$1:self]];
  evtsToFire_ = nil;
  eventsById_ = nil;
}

- (void)bubblingToAncestorsWithNSString:(NSString *)id_
withComGoodowRealtimeStoreBaseModelEvent:(id<ComGoodowRealtimeStoreBaseModelEvent>)event
     withComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)seen {
  if ([((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(seen)) indexOfWithId:id_] != -1) {
    return;
  }
  if (![((id<ComGoodowRealtimeJsonJsonObject>) nil_chk(eventsById_)) hasWithNSString:id_]) {
    (void) [eventsById_ setWithNSString:id_ withId:[((id<ComGoodowRealtimeJsonJsonArray>) nil_chk([ComGoodowRealtimeJsonJson createArray])) pushWithId:event]];
  }
  else {
    (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk([eventsById_ getArrayWithNSString:id_])) pushWithId:event];
  }
  (void) [seen pushWithId:id_];
  [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk([((ComGoodowRealtimeStoreImplDefaultModel *) nil_chk(this$0_->model_)) getParentsWithNSString:id_])) forEachWithComGoodowRealtimeJsonJsonArray_ListIterator:[[ComGoodowRealtimeStoreImplDefaultDocument_$1_$3 alloc] initWithComGoodowRealtimeStoreImplDefaultDocument_$1:self withComGoodowRealtimeStoreBaseModelEvent:event withComGoodowRealtimeJsonJsonArray:seen]];
}

- (void)fireEventWithComGoodowRealtimeStoreImplDefaultBaseModelEvent:(ComGoodowRealtimeStoreImplDefaultBaseModelEvent *)event {
  (void) [((id<ComGoodowRealtimeChannelBus>) nil_chk([((id<ComGoodowRealtimeStoreStore>) nil_chk(((ComGoodowRealtimeStoreImplDocumentBridge *) nil_chk(((ComGoodowRealtimeStoreImplDefaultModel *) nil_chk(this$0_->model_))->bridge_))->store_)) getBus])) publishLocalWithNSString:[NSString stringWithFormat:@"%@%@:%@:%@", ComGoodowRealtimeStoreChannelConstants_Addr_get_EVENT_(), ((ComGoodowRealtimeStoreImplDefaultBaseModelEvent *) nil_chk(event))->type__, this$0_->model_->bridge_->id__, event->target_] withId:event];
}

- (id)initWithComGoodowRealtimeStoreImplDefaultDocument:(ComGoodowRealtimeStoreImplDefaultDocument *)outer$ {
  this$0_ = outer$;
  return [super init];
}

- (void)copyAllFieldsTo:(ComGoodowRealtimeStoreImplDefaultDocument_$1 *)other {
  [super copyAllFieldsTo:other];
  other->eventsById_ = eventsById_;
  other->evtsToFire_ = evtsToFire_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "handleWithJavaLangVoid:", "handle", "V", 0x1, NULL },
    { "bubblingToAncestorsWithNSString:withComGoodowRealtimeStoreBaseModelEvent:withComGoodowRealtimeJsonJsonArray:", "bubblingToAncestors", "V", 0x2, NULL },
    { "fireEventWithComGoodowRealtimeStoreImplDefaultBaseModelEvent:", "fireEvent", "V", 0x2, NULL },
    { "initWithComGoodowRealtimeStoreImplDefaultDocument:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.goodow.realtime.store.impl.DefaultDocument;", NULL,  },
    { "evtsToFire_", NULL, 0x2, "Lcom.goodow.realtime.json.JsonArray;", NULL,  },
    { "eventsById_", NULL, 0x2, "Lcom.goodow.realtime.json.JsonObject;", NULL,  },
  };
  static J2ObjcClassInfo _ComGoodowRealtimeStoreImplDefaultDocument_$1 = { "$1", "com.goodow.realtime.store.impl", "DefaultDocument", 0x8000, 4, methods, 3, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplDefaultDocument_$1;
}

@end

@implementation ComGoodowRealtimeStoreImplDefaultDocument_$1_$1

- (void)callWithInt:(int)index
             withId:(ComGoodowRealtimeStoreImplDefaultBaseModelEvent *)event {
  NSAssert(!((ComGoodowRealtimeStoreImplDefaultBaseModelEvent *) nil_chk(event))->bubbles__, @"/Users/retechretech/dev/workspace/realtime/realtime-store/src/main/java/com/goodow/realtime/store/impl/DefaultDocument.java:57 condition failed: assert !event.bubbles;");
  NSString *id_ = event->target_;
  [this$0_ bubblingToAncestorsWithNSString:id_ withComGoodowRealtimeStoreBaseModelEvent:event withComGoodowRealtimeJsonJsonArray:[ComGoodowRealtimeJsonJson createArray]];
  [this$0_ fireEventWithComGoodowRealtimeStoreImplDefaultBaseModelEvent:event];
}

- (id)initWithComGoodowRealtimeStoreImplDefaultDocument_$1:(ComGoodowRealtimeStoreImplDefaultDocument_$1 *)outer$ {
  this$0_ = outer$;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "callWithInt:withComGoodowRealtimeStoreImplDefaultBaseModelEvent:", "call", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeStoreImplDefaultDocument_$1:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.goodow.realtime.store.impl.DefaultDocument$1;", NULL,  },
  };
  static J2ObjcClassInfo _ComGoodowRealtimeStoreImplDefaultDocument_$1_$1 = { "$1", "com.goodow.realtime.store.impl", "DefaultDocument$$1", 0x8000, 2, methods, 1, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplDefaultDocument_$1_$1;
}

@end

@implementation ComGoodowRealtimeStoreImplDefaultDocument_$1_$2

- (void)callWithNSString:(NSString *)key
                  withId:(id<ComGoodowRealtimeJsonJsonArray>)events {
  ComGoodowRealtimeStoreImplDefaultBaseModelEvent *first = [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(events)) getWithInt:0];
  ComGoodowRealtimeStoreImplDefaultObjectChangedEvent *objectChangedEvent = [[ComGoodowRealtimeStoreImplDefaultObjectChangedEvent alloc] initWithComGoodowRealtimeJsonJsonObject:[((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([ComGoodowRealtimeJsonJson createObject])) setWithNSString:@"target" withId:key])) setWithNSString:@"sessionId" withId:((ComGoodowRealtimeStoreImplDefaultBaseModelEvent *) nil_chk(first))->sessionId__])) setWithNSString:ComGoodowRealtimeStoreChannelConstants_Key_get_USER_ID_() withId:first->userId__])) setWithNSString:@"isLocal" withBoolean:[((ComGoodowRealtimeStoreImplDocumentBridge *) nil_chk(((ComGoodowRealtimeStoreImplDefaultModel *) nil_chk(this$0_->this$0_->model_))->bridge_)) isLocalSessionWithNSString:first->sessionId__]])) setWithNSString:@"events" withId:events]];
  [this$0_ fireEventWithComGoodowRealtimeStoreImplDefaultBaseModelEvent:objectChangedEvent];
}

- (id)initWithComGoodowRealtimeStoreImplDefaultDocument_$1:(ComGoodowRealtimeStoreImplDefaultDocument_$1 *)outer$ {
  this$0_ = outer$;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "callWithNSString:withComGoodowRealtimeJsonJsonArray:", "call", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeStoreImplDefaultDocument_$1:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.goodow.realtime.store.impl.DefaultDocument$1;", NULL,  },
  };
  static J2ObjcClassInfo _ComGoodowRealtimeStoreImplDefaultDocument_$1_$2 = { "$2", "com.goodow.realtime.store.impl", "DefaultDocument$$1", 0x8000, 2, methods, 1, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplDefaultDocument_$1_$2;
}

@end

@implementation ComGoodowRealtimeStoreImplDefaultDocument_$1_$3

- (void)callWithInt:(int)index
             withId:(NSString *)parent {
  [this$0_ bubblingToAncestorsWithNSString:parent withComGoodowRealtimeStoreBaseModelEvent:val$event_ withComGoodowRealtimeJsonJsonArray:val$seen_];
}

- (id)initWithComGoodowRealtimeStoreImplDefaultDocument_$1:(ComGoodowRealtimeStoreImplDefaultDocument_$1 *)outer$
                  withComGoodowRealtimeStoreBaseModelEvent:(id<ComGoodowRealtimeStoreBaseModelEvent>)capture$0
                        withComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)capture$1 {
  this$0_ = outer$;
  val$event_ = capture$0;
  val$seen_ = capture$1;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "callWithInt:withNSString:", "call", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeStoreImplDefaultDocument_$1:withComGoodowRealtimeStoreBaseModelEvent:withComGoodowRealtimeJsonJsonArray:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.goodow.realtime.store.impl.DefaultDocument$1;", NULL,  },
    { "val$event_", NULL, 0x1012, "Lcom.goodow.realtime.store.BaseModelEvent;", NULL,  },
    { "val$seen_", NULL, 0x1012, "Lcom.goodow.realtime.json.JsonArray;", NULL,  },
  };
  static J2ObjcClassInfo _ComGoodowRealtimeStoreImplDefaultDocument_$1_$3 = { "$3", "com.goodow.realtime.store.impl", "DefaultDocument$$1", 0x8000, 2, methods, 3, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplDefaultDocument_$1_$3;
}

@end

@implementation ComGoodowRealtimeStoreImplDefaultDocument_$2

- (void)handleWithId:(id<ComGoodowRealtimeChannelMessage>)message {
  [((id<ComGoodowRealtimeCoreHandler>) nil_chk(val$errorHandler_)) handleWithId:[((id<ComGoodowRealtimeChannelMessage>) nil_chk(message)) body]];
}

- (id)initWithComGoodowRealtimeCoreHandler:(id<ComGoodowRealtimeCoreHandler>)capture$0 {
  val$errorHandler_ = capture$0;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "handleWithComGoodowRealtimeChannelMessage:", "handle", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeCoreHandler:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "val$errorHandler_", NULL, 0x1012, "Lcom.goodow.realtime.core.Handler;", NULL,  },
  };
  static J2ObjcClassInfo _ComGoodowRealtimeStoreImplDefaultDocument_$2 = { "$2", "com.goodow.realtime.store.impl", "DefaultDocument", 0x8000, 2, methods, 1, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplDefaultDocument_$2;
}

@end

@implementation ComGoodowRealtimeStoreImplDefaultDocument_$3

- (void)handleWithId:(id<ComGoodowRealtimeChannelMessage>)message {
  [((id<ComGoodowRealtimeCoreHandler>) nil_chk(val$handler_)) handleWithId:[((id<ComGoodowRealtimeChannelMessage>) nil_chk(message)) body]];
}

- (id)initWithComGoodowRealtimeCoreHandler:(id<ComGoodowRealtimeCoreHandler>)capture$0 {
  val$handler_ = capture$0;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "handleWithComGoodowRealtimeChannelMessage:", "handle", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeCoreHandler:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "val$handler_", NULL, 0x1012, "Lcom.goodow.realtime.core.Handler;", NULL,  },
  };
  static J2ObjcClassInfo _ComGoodowRealtimeStoreImplDefaultDocument_$3 = { "$3", "com.goodow.realtime.store.impl", "DefaultDocument", 0x8000, 2, methods, 1, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplDefaultDocument_$3;
}

@end
