//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/retechretech/dev/workspace/realtime/realtime-store/src/main/java/com/goodow/realtime/store/impl/CollaborativeListImpl.java
//
//  Created by retechretech.
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "com/goodow/realtime/core/Handler.h"
#include "com/goodow/realtime/core/Registration.h"
#include "com/goodow/realtime/json/Json.h"
#include "com/goodow/realtime/json/JsonArray.h"
#include "com/goodow/realtime/json/JsonObject.h"
#include "com/goodow/realtime/operation/OperationComponent.h"
#include "com/goodow/realtime/operation/create/CreateComponent.h"
#include "com/goodow/realtime/operation/list/AbstractListComponent.h"
#include "com/goodow/realtime/operation/list/json/JsonDeleteComponent.h"
#include "com/goodow/realtime/operation/list/json/JsonInsertComponent.h"
#include "com/goodow/realtime/operation/list/json/JsonReplaceComponent.h"
#include "com/goodow/realtime/operation/map/json/JsonMapComponent.h"
#include "com/goodow/realtime/store/CollaborativeObject.h"
#include "com/goodow/realtime/store/EventType.h"
#include "com/goodow/realtime/store/IndexReference.h"
#include "com/goodow/realtime/store/ValuesAddedEvent.h"
#include "com/goodow/realtime/store/ValuesRemovedEvent.h"
#include "com/goodow/realtime/store/ValuesSetEvent.h"
#include "com/goodow/realtime/store/impl/CollaborativeListImpl.h"
#include "com/goodow/realtime/store/impl/CollaborativeObjectImpl.h"
#include "com/goodow/realtime/store/impl/JsonSerializer.h"
#include "com/goodow/realtime/store/impl/ModelImpl.h"
#include "com/goodow/realtime/store/impl/ValuesAddedEventImpl.h"
#include "com/goodow/realtime/store/impl/ValuesRemovedEventImpl.h"
#include "com/goodow/realtime/store/impl/ValuesSetEventImpl.h"
#include "java/lang/ArrayIndexOutOfBoundsException.h"
#include "java/lang/ClassCastException.h"
#include "java/lang/UnsupportedOperationException.h"
#include "java/util/Comparator.h"

@implementation ComGoodowRealtimeStoreImplCollaborativeListImpl

- (id)initWithComGoodowRealtimeStoreImplModelImpl:(ComGoodowRealtimeStoreImplModelImpl *)model {
  if (self = [super initWithComGoodowRealtimeStoreImplModelImpl:model]) {
    snapshot_ = [ComGoodowRealtimeJsonJson createArray];
  }
  return self;
}

- (id<ComGoodowRealtimeCoreRegistration>)onValuesAddedWithComGoodowRealtimeCoreHandler:(id<ComGoodowRealtimeCoreHandler>)handler {
  return [self addEventListenerWithComGoodowRealtimeStoreEventTypeEnum:ComGoodowRealtimeStoreEventTypeEnum_get_VALUES_ADDED() withComGoodowRealtimeCoreHandler:handler withBoolean:NO];
}

- (id<ComGoodowRealtimeCoreRegistration>)onValuesRemovedWithComGoodowRealtimeCoreHandler:(id<ComGoodowRealtimeCoreHandler>)handler {
  return [self addEventListenerWithComGoodowRealtimeStoreEventTypeEnum:ComGoodowRealtimeStoreEventTypeEnum_get_VALUES_REMOVED() withComGoodowRealtimeCoreHandler:handler withBoolean:NO];
}

- (id<ComGoodowRealtimeCoreRegistration>)onValuesSetWithComGoodowRealtimeCoreHandler:(id<ComGoodowRealtimeCoreHandler>)handler {
  return [self addEventListenerWithComGoodowRealtimeStoreEventTypeEnum:ComGoodowRealtimeStoreEventTypeEnum_get_VALUES_SET() withComGoodowRealtimeCoreHandler:handler withBoolean:NO];
}

- (id<ComGoodowRealtimeJsonJsonArray>)asArray {
  id<ComGoodowRealtimeJsonJsonArray> objects = [ComGoodowRealtimeJsonJson createArray];
  [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(snapshot_)) forEachWithComGoodowRealtimeJsonJsonArray_ListIterator:[[ComGoodowRealtimeStoreImplCollaborativeListImpl_$1 alloc] initWithComGoodowRealtimeStoreImplCollaborativeListImpl:self withComGoodowRealtimeJsonJsonArray:objects]];
  return objects;
}

- (void)clear {
  int length = [self length];
  if (length == 0) {
    return;
  }
  [self removeRangeWithInt:0 withInt:length];
}

- (id)getWithInt:(int)index {
  [self checkIndexWithInt:index withBoolean:NO];
  return (id) [ComGoodowRealtimeStoreImplJsonSerializer deserializeObjectWithComGoodowRealtimeJsonJsonArray:[((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(snapshot_)) getArrayWithInt:index] withComGoodowRealtimeJsonJsonObject:((ComGoodowRealtimeStoreImplModelImpl *) nil_chk(model_))->objects_];
}

- (int)indexOfWithId:(id)value
withJavaUtilComparator:(id<JavaUtilComparator>)opt_comparator {
  if (opt_comparator == nil) {
    id<ComGoodowRealtimeJsonJsonArray> serializedValue;
    @try {
      serializedValue = [ComGoodowRealtimeStoreImplJsonSerializer serializeObjectWithId:value];
    }
    @catch (JavaLangClassCastException *e) {
      return -1;
    }
    for (int i = 0, len = [self length]; i < len; i++) {
      if ([ComGoodowRealtimeOperationMapJsonJsonMapComponent jsonEqualsWithComGoodowRealtimeJsonJsonElement:serializedValue withComGoodowRealtimeJsonJsonElement:[((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(snapshot_)) getArrayWithInt:i]]) {
        return i;
      }
    }
  }
  else {
    for (int i = 0, len = [self length]; i < len; i++) {
      if ([self compareWithJavaUtilComparator:opt_comparator withId:value withId:[self getWithInt:i]] == 0) {
        return i;
      }
    }
  }
  return -1;
}

- (void)insertWithInt:(int)index
               withId:(id)value {
  [self insertAllWithInt:index withComGoodowRealtimeJsonJsonArray:[((id<ComGoodowRealtimeJsonJsonArray>) nil_chk([ComGoodowRealtimeJsonJson createArray])) pushWithId:value]];
}

- (void)insertAllWithInt:(int)index
withComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)values {
  NSAssert(values != nil, @"/Users/retechretech/dev/workspace/realtime/realtime-store/src/main/java/com/goodow/realtime/store/impl/CollaborativeListImpl.java:117 condition failed: assert values != null;");
  [self checkIndexWithInt:index withBoolean:YES];
  if ([((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(values)) length] == 0) {
    return;
  }
  else {
    id<ComGoodowRealtimeJsonJsonArray> array = [ComGoodowRealtimeStoreImplJsonSerializer serializeObjectsWithComGoodowRealtimeJsonJsonArray:values];
    ComGoodowRealtimeOperationListJsonJsonInsertComponent *op = [[ComGoodowRealtimeOperationListJsonJsonInsertComponent alloc] initWithNSString:id__ withInt:index withComGoodowRealtimeJsonJsonArray:array];
    [self consumeAndSubmitWithComGoodowRealtimeOperationOperationComponent:op];
  }
}

- (int)lastIndexOfWithId:(id)value
  withJavaUtilComparator:(id<JavaUtilComparator>)opt_comparator {
  if (opt_comparator == nil) {
    id<ComGoodowRealtimeJsonJsonArray> serializedValue;
    @try {
      serializedValue = [ComGoodowRealtimeStoreImplJsonSerializer serializeObjectWithId:value];
    }
    @catch (JavaLangClassCastException *e) {
      return -1;
    }
    for (int i = [self length] - 1; i >= 0; i--) {
      if ([ComGoodowRealtimeOperationMapJsonJsonMapComponent jsonEqualsWithComGoodowRealtimeJsonJsonElement:serializedValue withComGoodowRealtimeJsonJsonElement:[((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(snapshot_)) getArrayWithInt:i]]) {
        return i;
      }
    }
  }
  else {
    for (int i = [self length] - 1; i >= 0; i--) {
      if ([self compareWithJavaUtilComparator:opt_comparator withId:value withId:[self getWithInt:i]] == 0) {
        return i;
      }
    }
  }
  return -1;
}

- (int)length {
  return [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(snapshot_)) length];
}

- (int)pushWithId:(id)value {
  [self insertWithInt:[self length] withId:value];
  return [self length];
}

- (void)pushAllWithComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)values {
  [self insertAllWithInt:[self length] withComGoodowRealtimeJsonJsonArray:values];
}

- (id<ComGoodowRealtimeStoreIndexReference>)registerReferenceWithInt:(int)index
                                                         withBoolean:(BOOL)canBeDeleted {
  [self checkIndexWithInt:index withBoolean:YES];
  return [((ComGoodowRealtimeStoreImplModelImpl *) nil_chk(model_)) createIndexReferenceWithNSString:id__ withInt:index withBoolean:canBeDeleted];
}

- (void)removeWithInt:(int)index {
  [self removeRangeWithInt:index withInt:index + 1];
}

- (void)removeRangeWithInt:(int)startIndex
                   withInt:(int)endIndex {
  if (startIndex < 0 || startIndex >= endIndex || endIndex > [self length]) {
    @throw [[JavaLangArrayIndexOutOfBoundsException alloc] initWithNSString:[NSString stringWithFormat:@"StartIndex: %d, EndIndex: %d, Size: %d", startIndex, endIndex, [self length]]];
  }
  id<ComGoodowRealtimeJsonJsonArray> values = [self subValuesWithInt:startIndex withInt:endIndex - startIndex];
  ComGoodowRealtimeOperationListJsonJsonDeleteComponent *op = [[ComGoodowRealtimeOperationListJsonJsonDeleteComponent alloc] initWithNSString:id__ withInt:startIndex withComGoodowRealtimeJsonJsonArray:values];
  [self consumeAndSubmitWithComGoodowRealtimeOperationOperationComponent:op];
}

- (BOOL)removeValueWithId:(id)value {
  int index = [self indexOfWithId:value withJavaUtilComparator:nil];
  if (index == -1) {
    return NO;
  }
  [self removeWithInt:index];
  return YES;
}

- (void)replaceRangeWithInt:(int)index
withComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)values {
  NSAssert(values != nil, @"/Users/retechretech/dev/workspace/realtime/realtime-store/src/main/java/com/goodow/realtime/store/impl/CollaborativeListImpl.java:196 condition failed: assert values != null;");
  if ([((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(values)) length] == 0) {
    @throw [[JavaLangUnsupportedOperationException alloc] initWithNSString:@"At least one value must be specified for a set mutation."];
  }
  [self checkIndexWithInt:index + [values length] withBoolean:YES];
  id<ComGoodowRealtimeJsonJsonArray> oldValues = [self subValuesWithInt:index withInt:[values length]];
  id<ComGoodowRealtimeJsonJsonArray> newValues = [ComGoodowRealtimeStoreImplJsonSerializer serializeObjectsWithComGoodowRealtimeJsonJsonArray:values];
  if ([((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(oldValues)) isEqual:newValues]) {
    return;
  }
  ComGoodowRealtimeOperationListJsonJsonReplaceComponent *op = [[ComGoodowRealtimeOperationListJsonJsonReplaceComponent alloc] initWithNSString:id__ withInt:index withComGoodowRealtimeJsonJsonArray:oldValues withComGoodowRealtimeJsonJsonArray:newValues];
  [self consumeAndSubmitWithComGoodowRealtimeOperationOperationComponent:op];
}

- (void)setWithInt:(int)index
            withId:(id)value {
  [self replaceRangeWithInt:index withComGoodowRealtimeJsonJsonArray:[((id<ComGoodowRealtimeJsonJsonArray>) nil_chk([ComGoodowRealtimeJsonJson createArray])) pushWithId:value]];
}

- (void)setLengthWithInt:(int)length {
  [self checkIndexWithInt:length withBoolean:YES];
  int total = [self length];
  if (length == total) {
    return;
  }
  [self removeRangeWithInt:length withInt:total];
}

- (id<ComGoodowRealtimeJsonJsonArray>)toJson {
  id<ComGoodowRealtimeJsonJsonArray> json = [ComGoodowRealtimeJsonJson createArray];
  [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(snapshot_)) forEachWithComGoodowRealtimeJsonJsonArray_ListIterator:[[ComGoodowRealtimeStoreImplCollaborativeListImpl_$2 alloc] initWithComGoodowRealtimeStoreImplCollaborativeListImpl:self withComGoodowRealtimeJsonJsonArray:json]];
  return json;
}

- (void)consumeWithNSString:(NSString *)userId
               withNSString:(NSString *)sessionId
withComGoodowRealtimeOperationOperationComponent:(ComGoodowRealtimeOperationOperationComponent *)component {
  ComGoodowRealtimeOperationListAbstractListComponent *op = (ComGoodowRealtimeOperationListAbstractListComponent *) check_class_cast(component, [ComGoodowRealtimeOperationListAbstractListComponent class]);
  [((ComGoodowRealtimeOperationListAbstractListComponent *) nil_chk(op)) applyWithId:[[ComGoodowRealtimeStoreImplCollaborativeListImpl_$3 alloc] initWithComGoodowRealtimeStoreImplCollaborativeListImpl:self withNSString:sessionId withNSString:userId withComGoodowRealtimeOperationListAbstractListComponent:op]];
}

- (IOSObjectArray *)toInitialization {
  int length = [self length];
  IOSObjectArray *toRtn = [IOSObjectArray arrayWithLength:1 + (length == 0 ? 0 : 1) type:[IOSClass classWithClass:[ComGoodowRealtimeOperationOperationComponent class]]];
  (void) IOSObjectArray_Set(toRtn, 0, [[ComGoodowRealtimeOperationCreateCreateComponent alloc] initWithNSString:id__ withInt:ComGoodowRealtimeOperationCreateCreateComponent_LIST]);
  if (length != 0) {
    (void) IOSObjectArray_Set(toRtn, 1, [[ComGoodowRealtimeOperationListJsonJsonInsertComponent alloc] initWithNSString:id__ withInt:0 withComGoodowRealtimeJsonJsonArray:[self subValuesWithInt:0 withInt:length]]);
  }
  return toRtn;
}

- (int)__ocniCompare__WithId:(id)comparator
                      withId:(id)object1
                      withId:(id)object2 {
  NSComparator block = (NSComparator)comparator;
  return block(object1, object2);
}

- (void)checkIndexWithInt:(int)index
              withBoolean:(BOOL)endBoundIsValid {
  int length = [self length];
  if (index < 0 || (endBoundIsValid ? index > length : index >= length)) {
    @throw [[JavaLangArrayIndexOutOfBoundsException alloc] initWithNSString:[NSString stringWithFormat:@"Index: %d, Size: %d", index, length]];
  }
}

- (int)compareWithJavaUtilComparator:(id<JavaUtilComparator>)comparator
                              withId:(id)object1
                              withId:(id)object2 {
  if ([(id) comparator conformsToProtocol: @protocol(JavaUtilComparator)]) {
    return [((id<JavaUtilComparator>) nil_chk(comparator)) compareWithId:object1 withId:object2];
  }
  else {
    return [self __ocniCompare__WithId:comparator withId:object1 withId:object2];
  }
}

- (void)insertAndFireEventWithInt:(int)index
withComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)values
                     withNSString:(NSString *)sessionId
                     withNSString:(NSString *)userId {
  NSAssert(index <= [self length], @"/Users/retechretech/dev/workspace/realtime/realtime-store/src/main/java/com/goodow/realtime/store/impl/CollaborativeListImpl.java:307 condition failed: assert index <= length();");
  id<ComGoodowRealtimeJsonJsonArray> objects = [ComGoodowRealtimeJsonJson createArray];
  [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(values)) forEachWithComGoodowRealtimeJsonJsonArray_ListIterator:[[ComGoodowRealtimeStoreImplCollaborativeListImpl_$4 alloc] initWithComGoodowRealtimeStoreImplCollaborativeListImpl:self withComGoodowRealtimeJsonJsonArray:objects withInt:index]];
  id<ComGoodowRealtimeStoreValuesAddedEvent> event = [[ComGoodowRealtimeStoreImplValuesAddedEventImpl alloc] initWithComGoodowRealtimeJsonJsonObject:[((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([self eventWithNSString:sessionId withNSString:userId])) setWithNSString:@"index" withDouble:index])) setWithNSString:@"values" withId:objects]];
  [self fireEventWithComGoodowRealtimeStoreBaseModelEvent:event];
}

- (void)removeAndFireEventWithInt:(int)index
                          withInt:(int)length
                     withNSString:(NSString *)sessionId
                     withNSString:(NSString *)userId {
  NSAssert(index + length <= [self length], @"/Users/retechretech/dev/workspace/realtime/realtime-store/src/main/java/com/goodow/realtime/store/impl/CollaborativeListImpl.java:324 condition failed: assert index + length <= length();");
  id<ComGoodowRealtimeJsonJsonArray> objects = [ComGoodowRealtimeJsonJson createArray];
  for (int i = 0; i < length; i++) {
    (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(objects)) pushWithId:[self getWithInt:index]];
    id<ComGoodowRealtimeJsonJsonArray> value = [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(snapshot_)) getArrayWithInt:index];
    (void) [snapshot_ removeWithInt:index];
    [((ComGoodowRealtimeStoreImplModelImpl *) nil_chk(model_)) addOrRemoveParentWithComGoodowRealtimeJsonJsonArray:value withNSString:id__ withBoolean:NO];
    model_->bytesUsed_ -= ((int) [(value == nil ? @"null" : [value toJsonString]) length]);
  }
  id<ComGoodowRealtimeStoreValuesRemovedEvent> event = [[ComGoodowRealtimeStoreImplValuesRemovedEventImpl alloc] initWithComGoodowRealtimeJsonJsonObject:[((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([self eventWithNSString:sessionId withNSString:userId])) setWithNSString:@"index" withDouble:index])) setWithNSString:@"values" withId:objects]];
  [self fireEventWithComGoodowRealtimeStoreBaseModelEvent:event];
}

- (void)replaceAndFireEventWithInt:(int)index
withComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)values
                      withNSString:(NSString *)sessionId
                      withNSString:(NSString *)userId {
  NSAssert(index + [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(values)) length] <= [self length], @"/Users/retechretech/dev/workspace/realtime/realtime-store/src/main/java/com/goodow/realtime/store/impl/CollaborativeListImpl.java:340 condition failed: assert index + values.length() <= length();");
  id<ComGoodowRealtimeJsonJsonArray> oldObjects = [ComGoodowRealtimeJsonJson createArray];
  id<ComGoodowRealtimeJsonJsonArray> newObjects = [ComGoodowRealtimeJsonJson createArray];
  [values forEachWithComGoodowRealtimeJsonJsonArray_ListIterator:[[ComGoodowRealtimeStoreImplCollaborativeListImpl_$5 alloc] initWithComGoodowRealtimeStoreImplCollaborativeListImpl:self withComGoodowRealtimeJsonJsonArray:oldObjects withInt:index withComGoodowRealtimeJsonJsonArray:newObjects]];
  id<ComGoodowRealtimeStoreValuesSetEvent> event = [[ComGoodowRealtimeStoreImplValuesSetEventImpl alloc] initWithComGoodowRealtimeJsonJsonObject:[((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([((id<ComGoodowRealtimeJsonJsonObject>) nil_chk([self eventWithNSString:sessionId withNSString:userId])) setWithNSString:@"index" withDouble:index])) setWithNSString:@"oldValues" withId:oldObjects])) setWithNSString:@"newValues" withId:newObjects]];
  [self fireEventWithComGoodowRealtimeStoreBaseModelEvent:event];
}

- (id<ComGoodowRealtimeJsonJsonArray>)subValuesWithInt:(int)startIndex
                                               withInt:(int)length {
  id<ComGoodowRealtimeJsonJsonArray> array = [ComGoodowRealtimeJsonJson createArray];
  for (int i = startIndex; i < startIndex + length; i++) {
    (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(array)) pushWithId:[((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(snapshot_)) getArrayWithInt:i]];
  }
  return array;
}

- (void)copyAllFieldsTo:(ComGoodowRealtimeStoreImplCollaborativeListImpl *)other {
  [super copyAllFieldsTo:other];
  other->snapshot_ = snapshot_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "initWithComGoodowRealtimeStoreImplModelImpl:", "CollaborativeListImpl", NULL, 0x0, NULL },
    { "onValuesAddedWithComGoodowRealtimeCoreHandler:", "onValuesAdded", "Lcom.goodow.realtime.core.Registration;", 0x1, NULL },
    { "onValuesRemovedWithComGoodowRealtimeCoreHandler:", "onValuesRemoved", "Lcom.goodow.realtime.core.Registration;", 0x1, NULL },
    { "onValuesSetWithComGoodowRealtimeCoreHandler:", "onValuesSet", "Lcom.goodow.realtime.core.Registration;", 0x1, NULL },
    { "asArray", NULL, "Lcom.goodow.realtime.json.JsonArray;", 0x1, NULL },
    { "clear", NULL, "V", 0x1, NULL },
    { "getWithInt:", "get", "TT;", 0x1, NULL },
    { "indexOfWithId:withJavaUtilComparator:", "indexOf", "I", 0x1, NULL },
    { "insertWithInt:withId:", "insert", "V", 0x1, NULL },
    { "insertAllWithInt:withComGoodowRealtimeJsonJsonArray:", "insertAll", "V", 0x1, NULL },
    { "lastIndexOfWithId:withJavaUtilComparator:", "lastIndexOf", "I", 0x1, NULL },
    { "length", NULL, "I", 0x1, NULL },
    { "pushWithId:", "push", "I", 0x1, NULL },
    { "pushAllWithComGoodowRealtimeJsonJsonArray:", "pushAll", "V", 0x1, NULL },
    { "registerReferenceWithInt:withBoolean:", "registerReference", "Lcom.goodow.realtime.store.IndexReference;", 0x1, NULL },
    { "removeWithInt:", "remove", "V", 0x1, NULL },
    { "removeRangeWithInt:withInt:", "removeRange", "V", 0x1, NULL },
    { "removeValueWithId:", "removeValue", "Z", 0x1, NULL },
    { "replaceRangeWithInt:withComGoodowRealtimeJsonJsonArray:", "replaceRange", "V", 0x1, NULL },
    { "setWithInt:withId:", "set", "V", 0x1, NULL },
    { "setLengthWithInt:", "setLength", "V", 0x1, NULL },
    { "toJson", NULL, "Lcom.goodow.realtime.json.JsonArray;", 0x1, NULL },
    { "consumeWithNSString:withNSString:withComGoodowRealtimeOperationOperationComponent:", "consume", "V", 0x4, NULL },
    { "toInitialization", NULL, "[Lcom.goodow.realtime.operation.OperationComponent;", 0x0, NULL },
    { "__ocniCompare__WithId:withId:withId:", "__ocniCompare__", "I", 0x102, NULL },
    { "checkIndexWithInt:withBoolean:", "checkIndex", "V", 0x2, NULL },
    { "compareWithJavaUtilComparator:withId:withId:", "compare", "I", 0x2, NULL },
    { "insertAndFireEventWithInt:withComGoodowRealtimeJsonJsonArray:withNSString:withNSString:", "insertAndFireEvent", "V", 0x2, NULL },
    { "removeAndFireEventWithInt:withInt:withNSString:withNSString:", "removeAndFireEvent", "V", 0x2, NULL },
    { "replaceAndFireEventWithInt:withComGoodowRealtimeJsonJsonArray:withNSString:withNSString:", "replaceAndFireEvent", "V", 0x2, NULL },
    { "subValuesWithInt:withInt:", "subValues", "Lcom.goodow.realtime.json.JsonArray;", 0x2, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "snapshot_", NULL, 0x12, "Lcom.goodow.realtime.json.JsonArray;", NULL,  },
  };
  static J2ObjcClassInfo _ComGoodowRealtimeStoreImplCollaborativeListImpl = { "CollaborativeListImpl", "com.goodow.realtime.store.impl", NULL, 0x0, 31, methods, 1, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplCollaborativeListImpl;
}

@end

@implementation ComGoodowRealtimeStoreImplCollaborativeListImpl_$1

- (void)callWithInt:(int)index
             withId:(id<ComGoodowRealtimeJsonJsonArray>)value {
  (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(val$objects_)) pushWithId:[this$0_ getWithInt:index]];
}

- (id)initWithComGoodowRealtimeStoreImplCollaborativeListImpl:(ComGoodowRealtimeStoreImplCollaborativeListImpl *)outer$
                           withComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)capture$0 {
  this$0_ = outer$;
  val$objects_ = capture$0;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "callWithInt:withComGoodowRealtimeJsonJsonArray:", "call", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeStoreImplCollaborativeListImpl:withComGoodowRealtimeJsonJsonArray:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.goodow.realtime.store.impl.CollaborativeListImpl;", NULL,  },
    { "val$objects_", NULL, 0x1012, "Lcom.goodow.realtime.json.JsonArray;", NULL,  },
  };
  static J2ObjcClassInfo _ComGoodowRealtimeStoreImplCollaborativeListImpl_$1 = { "$1", "com.goodow.realtime.store.impl", "CollaborativeListImpl", 0x8000, 2, methods, 2, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplCollaborativeListImpl_$1;
}

@end

@implementation ComGoodowRealtimeStoreImplCollaborativeListImpl_$2

- (void)callWithInt:(int)index
             withId:(id<ComGoodowRealtimeJsonJsonArray>)value {
  id val = [this$0_ getWithInt:index];
  if (val == nil) {
    (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(val$json_)) pushWithId:nil];
  }
  else if ([val isKindOfClass:[ComGoodowRealtimeStoreImplCollaborativeObjectImpl class]]) {
    (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(val$json_)) pushWithId:[((id<ComGoodowRealtimeStoreCollaborativeObject>) check_protocol_cast(val, @protocol(ComGoodowRealtimeStoreCollaborativeObject))) toJson]];
  }
  else {
    (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(val$json_)) pushWithId:[((id<ComGoodowRealtimeJsonJsonArray>) nil_chk([((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(this$0_->snapshot_)) getArrayWithInt:index])) getWithInt:1]];
  }
}

- (id)initWithComGoodowRealtimeStoreImplCollaborativeListImpl:(ComGoodowRealtimeStoreImplCollaborativeListImpl *)outer$
                           withComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)capture$0 {
  this$0_ = outer$;
  val$json_ = capture$0;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "callWithInt:withComGoodowRealtimeJsonJsonArray:", "call", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeStoreImplCollaborativeListImpl:withComGoodowRealtimeJsonJsonArray:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.goodow.realtime.store.impl.CollaborativeListImpl;", NULL,  },
    { "val$json_", NULL, 0x1012, "Lcom.goodow.realtime.json.JsonArray;", NULL,  },
  };
  static J2ObjcClassInfo _ComGoodowRealtimeStoreImplCollaborativeListImpl_$2 = { "$2", "com.goodow.realtime.store.impl", "CollaborativeListImpl", 0x8000, 2, methods, 2, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplCollaborativeListImpl_$2;
}

@end

@implementation ComGoodowRealtimeStoreImplCollaborativeListImpl_$3

- (void)delete__WithInt:(int)startIndex
                withInt:(int)length {
  [this$0_ removeAndFireEventWithInt:startIndex withInt:length withNSString:val$sessionId_ withNSString:val$userId_];
  [((ComGoodowRealtimeStoreImplModelImpl *) nil_chk(this$0_->model_)) transformCursorWithComGoodowRealtimeOperationListAbstractListComponent:val$op_ withNSString:val$userId_ withNSString:val$sessionId_];
}

- (void)insertWithInt:(int)startIndex
               withId:(id<ComGoodowRealtimeJsonJsonArray>)values {
  [this$0_ insertAndFireEventWithInt:startIndex withComGoodowRealtimeJsonJsonArray:values withNSString:val$sessionId_ withNSString:val$userId_];
  [((ComGoodowRealtimeStoreImplModelImpl *) nil_chk(this$0_->model_)) transformCursorWithComGoodowRealtimeOperationListAbstractListComponent:val$op_ withNSString:val$userId_ withNSString:val$sessionId_];
}

- (void)replaceWithInt:(int)startIndex
                withId:(id<ComGoodowRealtimeJsonJsonArray>)values {
  [this$0_ replaceAndFireEventWithInt:startIndex withComGoodowRealtimeJsonJsonArray:values withNSString:val$sessionId_ withNSString:val$userId_];
}

- (id)initWithComGoodowRealtimeStoreImplCollaborativeListImpl:(ComGoodowRealtimeStoreImplCollaborativeListImpl *)outer$
                                                 withNSString:(NSString *)capture$0
                                                 withNSString:(NSString *)capture$1
      withComGoodowRealtimeOperationListAbstractListComponent:(ComGoodowRealtimeOperationListAbstractListComponent *)capture$2 {
  this$0_ = outer$;
  val$sessionId_ = capture$0;
  val$userId_ = capture$1;
  val$op_ = capture$2;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "delete__WithInt:withInt:", "delete", "V", 0x1, NULL },
    { "insertWithInt:withComGoodowRealtimeJsonJsonArray:", "insert", "V", 0x1, NULL },
    { "replaceWithInt:withComGoodowRealtimeJsonJsonArray:", "replace", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeStoreImplCollaborativeListImpl:withNSString:withNSString:withComGoodowRealtimeOperationListAbstractListComponent:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.goodow.realtime.store.impl.CollaborativeListImpl;", NULL,  },
    { "val$sessionId_", NULL, 0x1012, "Ljava.lang.String;", NULL,  },
    { "val$userId_", NULL, 0x1012, "Ljava.lang.String;", NULL,  },
    { "val$op_", NULL, 0x1012, "Lcom.goodow.realtime.operation.list.AbstractListComponent;", NULL,  },
  };
  static J2ObjcClassInfo _ComGoodowRealtimeStoreImplCollaborativeListImpl_$3 = { "$3", "com.goodow.realtime.store.impl", "CollaborativeListImpl", 0x8000, 4, methods, 4, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplCollaborativeListImpl_$3;
}

@end

@implementation ComGoodowRealtimeStoreImplCollaborativeListImpl_$4

- (void)callWithInt:(int)idx
             withId:(id<ComGoodowRealtimeJsonJsonArray>)value {
  (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(val$objects_)) pushWithId:[ComGoodowRealtimeStoreImplJsonSerializer deserializeObjectWithComGoodowRealtimeJsonJsonArray:value withComGoodowRealtimeJsonJsonObject:((ComGoodowRealtimeStoreImplModelImpl *) nil_chk(this$0_->model_))->objects_]];
  (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(this$0_->snapshot_)) insertWithInt:val$index_ + idx withId:value];
  [this$0_->model_ addOrRemoveParentWithComGoodowRealtimeJsonJsonArray:value withNSString:this$0_->id__ withBoolean:YES];
  this$0_->model_->bytesUsed_ += ((int) [(value == nil ? @"null" : [value toJsonString]) length]);
}

- (id)initWithComGoodowRealtimeStoreImplCollaborativeListImpl:(ComGoodowRealtimeStoreImplCollaborativeListImpl *)outer$
                           withComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)capture$0
                                                      withInt:(int)capture$1 {
  this$0_ = outer$;
  val$objects_ = capture$0;
  val$index_ = capture$1;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "callWithInt:withComGoodowRealtimeJsonJsonArray:", "call", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeStoreImplCollaborativeListImpl:withComGoodowRealtimeJsonJsonArray:withInt:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.goodow.realtime.store.impl.CollaborativeListImpl;", NULL,  },
    { "val$objects_", NULL, 0x1012, "Lcom.goodow.realtime.json.JsonArray;", NULL,  },
    { "val$index_", NULL, 0x1012, "I", NULL,  },
  };
  static J2ObjcClassInfo _ComGoodowRealtimeStoreImplCollaborativeListImpl_$4 = { "$4", "com.goodow.realtime.store.impl", "CollaborativeListImpl", 0x8000, 2, methods, 3, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplCollaborativeListImpl_$4;
}

@end

@implementation ComGoodowRealtimeStoreImplCollaborativeListImpl_$5

- (void)callWithInt:(int)idx
             withId:(id<ComGoodowRealtimeJsonJsonArray>)newValue {
  (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(val$oldObjects_)) pushWithId:[this$0_ getWithInt:val$index_ + idx]];
  (void) [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(val$newObjects_)) pushWithId:[ComGoodowRealtimeStoreImplJsonSerializer deserializeObjectWithComGoodowRealtimeJsonJsonArray:newValue withComGoodowRealtimeJsonJsonObject:((ComGoodowRealtimeStoreImplModelImpl *) nil_chk(this$0_->model_))->objects_]];
  id<ComGoodowRealtimeJsonJsonArray> oldValue = [((id<ComGoodowRealtimeJsonJsonArray>) nil_chk(this$0_->snapshot_)) getArrayWithInt:val$index_ + idx];
  (void) [this$0_->snapshot_ removeWithInt:val$index_ + idx];
  (void) [this$0_->snapshot_ insertWithInt:val$index_ + idx++ withId:newValue];
  [this$0_->model_ addOrRemoveParentWithComGoodowRealtimeJsonJsonArray:oldValue withNSString:this$0_->id__ withBoolean:NO];
  [this$0_->model_ addOrRemoveParentWithComGoodowRealtimeJsonJsonArray:newValue withNSString:this$0_->id__ withBoolean:YES];
  this$0_->model_->bytesUsed_ -= ((int) [(oldValue == nil ? @"null" : [oldValue toJsonString]) length]);
  this$0_->model_->bytesUsed_ += ((int) [(newValue == nil ? @"null" : [newValue toJsonString]) length]);
}

- (id)initWithComGoodowRealtimeStoreImplCollaborativeListImpl:(ComGoodowRealtimeStoreImplCollaborativeListImpl *)outer$
                           withComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)capture$0
                                                      withInt:(int)capture$1
                           withComGoodowRealtimeJsonJsonArray:(id<ComGoodowRealtimeJsonJsonArray>)capture$2 {
  this$0_ = outer$;
  val$oldObjects_ = capture$0;
  val$index_ = capture$1;
  val$newObjects_ = capture$2;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "callWithInt:withComGoodowRealtimeJsonJsonArray:", "call", "V", 0x1, NULL },
    { "initWithComGoodowRealtimeStoreImplCollaborativeListImpl:withComGoodowRealtimeJsonJsonArray:withInt:withComGoodowRealtimeJsonJsonArray:", "init", NULL, 0x0, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.goodow.realtime.store.impl.CollaborativeListImpl;", NULL,  },
    { "val$oldObjects_", NULL, 0x1012, "Lcom.goodow.realtime.json.JsonArray;", NULL,  },
    { "val$index_", NULL, 0x1012, "I", NULL,  },
    { "val$newObjects_", NULL, 0x1012, "Lcom.goodow.realtime.json.JsonArray;", NULL,  },
  };
  static J2ObjcClassInfo _ComGoodowRealtimeStoreImplCollaborativeListImpl_$5 = { "$5", "com.goodow.realtime.store.impl", "CollaborativeListImpl", 0x8000, 2, methods, 4, fields, 0, NULL};
  return &_ComGoodowRealtimeStoreImplCollaborativeListImpl_$5;
}

@end
